/*
 * Copyright (c) 2015 Samsung Electronics Co., Ltd
 *
 * Licensed under the Flora License, Version 1.1 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://floralicense.org/license/
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(a,b,c){var d=a.tau={},e=a.tauConfig=a.tauConfig||{};e.rootNamespace="tau",e.fileName="tau",d.version="0.10.4",function(a,b,d){var e=0,f=+new Date,g=[].slice,h=d.rootNamespace,i=d.fileName,j=function(a){var b=new Date;a.unshift("["+h+"]["+b.toLocaleString()+"]")};b.getUniqueId=function(){return h+"-"+b.getNumberUniqueId()+"-"+f},b.getNumberUniqueId=function(){return e++},b.log=function(){var a=g.call(arguments);j(a),console&&console.log.apply(console,a)},b.warn=function(){var a=g.call(arguments);j(a),console&&console.warn.apply(console,a)},b.error=function(){var a=g.call(arguments);j(a),console&&console.error.apply(console,a)},b.getConfig=function(a,b){return d[a]===c?b:d[a]},b.setConfig=function(a,b,e){(!e||e&&d[a]===c)&&(d[a]=b)},b.getFrameworkPath=function(){var b,c,d,e,f=a.getElementsByTagName("script"),g=f.length;for(b=0;g>b;b++)if(c=f[b].src,d=c.split("/"),e=d.length,d[e-1]===i+".js"||d[e-1]===i+".min.js")return d.slice(0,e-1).join("/");return null}}(a.document,d,e),function(a){a.setConfig("rootDir",a.getFrameworkPath(),!0),a.setConfig("version",""),a.setConfig("allowCrossDomainPages",!1,!0),a.setConfig("domCache",!1,!0)}(d),function(a,b,c){function d(){var a,c=b.createElement("div"),d=b.createElement("body"),e=b.getElementsByTagName("html")[0],f=getComputedStyle(c);return c.classList.add("is-circle-test"),d.appendChild(c),e.insertBefore(d,e.firstChild),a="1px"===f.width,e.removeChild(d),a}var e=!("undefined"==typeof tizen);c.support={cssTransitions:!0,mediaquery:!0,cssPseudoElement:!0,touchOverflow:!0,cssTransform3d:!0,boxShadow:!0,scrollTop:0,dynamicBaseTag:!0,cssPointerEvents:!1,boundingRect:!0,browser:{ie:!1,tizen:e},shape:{circle:e?a.matchMedia("(-tizen-geometric-shape: circle)").matches:d()},gradeA:function(){return!0}}}(a,a.document,d),function(a){a.setConfig("autoBuildOnPageChange",!1,!0),a.support.shape.circle?(a.setConfig("pageTransition","pop"),a.setConfig("popupTransition","pop"),a.setConfig("popupFullSize",!0),a.setConfig("scrollEndEffectArea","screen"),a.setConfig("enablePageScroll",!0),a.setConfig("enablePopupScroll",!0)):(a.setConfig("popupTransition","slideup"),a.setConfig("enablePageScroll",!1),a.setConfig("enablePopupScroll",!1))}(d),function(a){a.defaults={},Object.defineProperty(a.defaults,"autoInitializePage",{get:function(){return a.getConfig("autoInitializePage",!0)},set:function(b){return a.setConfig("autoInitializePage",b)}}),Object.defineProperty(a.defaults,"dynamicBaseEnabled",{get:function(){return a.getConfig("dynamicBaseEnabled",!0)},set:function(b){return a.setConfig("dynamicBaseEnabled",b)}}),Object.defineProperty(a.defaults,"pageTransition",{get:function(){return a.getConfig("pageTransition","none")},set:function(b){return a.setConfig("pageTransition",b)}}),Object.defineProperty(a.defaults,"popupTransition",{get:function(){return a.getConfig("popupTransition","none")},set:function(b){return a.setConfig("popupTransition",b)}}),Object.defineProperty(a.defaults,"popupFullSize",{get:function(){return a.getConfig("popupFullSize",!1)},set:function(b){return a.setConfig("popupFullSize",b)}}),Object.defineProperty(a.defaults,"enablePageScroll",{get:function(){return a.getConfig("enablePageScroll",!1)},set:function(b){return a.setConfig("enablePageScroll",b)}}),Object.defineProperty(a.defaults,"scrollEndEffectArea",{get:function(){return a.getConfig("scrollEndEffectArea","content")},set:function(b){return a.setConfig("scrollEndEffectArea",b)}}),Object.defineProperty(a.defaults,"enablePopupScroll",{get:function(){return a.getConfig("enablePopupScroll",!1)},set:function(b){return a.setConfig("enablePopupScroll",b)}})}(d),function(a,b,c){function d(a,b){var c,d=new XMLHttpRequest;return d.open("get",a,!1),b&&d.overrideMimeType(b),d.send(),4===d.readyState&&(c=d.status,200===c||0===c&&d.responseText)?d.responseText:null}function e(a){for(var b,c=l.call(a.querySelectorAll("script[src]")),d=c.length;--d>=0;)b=c[d],b.parentNode.removeChild(b);return c}function f(b){return function(){try{a.eval(b)}catch(c){"undefined"!=typeof console&&(c.stack||c.name&&c.message)}}}function g(b){var c,d=b.length;for(c=0;d>c;++c)b[c].call(a)}function h(a,c){var e,g,h,i,j=[];for(h=0,i=a.length;i>h;++h)g=d(a[h].src,"text/plain"),g&&(e=b.adoptNode(a[h]),e.setAttribute("data-src",a[h].src),e.removeAttribute("src"),j.push(f(g)),c&&c.appendChild(e));return j}var i=null,j=(a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){i=a.setTimeout(b.bind(b,+new Date),1e3/60)}).bind(a),k=c.util||{},l=[].slice;k.fetchSync=d,k.safeEvalWrap=f,k.batchCall=g,k.requestAnimationFrame=j,k.cancelAnimationFrame=(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||function(){a.clearTimeout(i)}).bind(a),k.async=j,k.importEvaluateAndAppendElement=function(a,c){var d=h(e(a),a),f=b.importNode(a,!0);return c.appendChild(f),g(d),f},k.isNumber=function(a){var b=parseFloat(a);return!isNaN(b)&&isFinite(b)},k.runScript=function(a,c){var e,f,g=b.createElement("script"),h=null,i=l.call(c.attributes),j=c.getAttribute("src"),m=k.path;for(null!==j&&(j=m.makeUrlAbsolute(j,a)),e=i.length;--e>=0;)f=i[e],"src"!==f.name?g.setAttribute(f.name,f.value):g.setAttribute("data-src",f.value);h=j?d(j,"text/plain"):c.textContent,h&&(g.src=URL.createObjectURL(new Blob([h],{type:"text/javascript"})),g.textContent=h),c.parentNode.replaceChild(g,c)},c.util=k}(a,a.document,d),function(a,b,c){function d(a,b,c){var d,e,f,g=[],h=c||1,i=!1;if(isNaN(a)||isNaN(b)?isNaN(a)&&isNaN(b)?(i=!0,d=a.charCodeAt(0),e=b.charCodeAt(0)):(d=isNaN(a)?0:a,e=isNaN(b)?0:b):(d=a,e=b),f=e>=d)for(;e>=d;)g.push(i?String.fromCharCode(d):d),d+=h;else for(;d>=e;)g.push(i?String.fromCharCode(d):d),d-=h;return g}function e(a){var b=typeof a,c=a&&a.length;return a&&a!==a.window?Array.isArray(a)||a instanceof NodeList||"function"===b&&(0===c||"number"==typeof c&&c>0&&c-1 in a):!1}c.util.array={range:d,isArrayLike:e}}(a,a.document,d),function(a,d){var e=Array.isArray,f=d.util.array.isArrayLike,g=/\s+/g,h=function(a){return a.trim()},i=function(a,b){var c,d,f=[];if("string"==typeof a&&(a=a.split(g).map(h)),e(a))for(d=0;d<a.length;d++)f.push({type:a[d],callback:b});else for(c in a)a.hasOwnProperty(c)&&f.push({type:c,callback:a[c]});return f};d.event={trigger:function(a,b,c,d,e){var f=new CustomEvent(b,{detail:c,bubbles:"boolean"==typeof d?d:!0,cancelable:"boolean"==typeof e?e:!0});return a.dispatchEvent(f)},preventDefault:function(a){var b=a._originalEvent;b&&b.preventDefault&&b.preventDefault(),a.preventDefault()},stopPropagation:function(a){var b=a._originalEvent;b&&b.stopPropagation&&b.stopPropagation(),a.stopPropagation()},stopImmediatePropagation:function(a){var b=a._originalEvent;b&&b.stopImmediatePropagation&&b.stopImmediatePropagation(),a.stopImmediatePropagation()},documentRelativeCoordsFromEvent:function(c){var d,e=c?c:a.event,f={x:e.clientX,y:e.clientY},g={x:e.pageX,y:e.pageY},h=0,i=0,j=b.body,k=b.documentElement;return c.type.match(/^touch/)&&(d=e.targetTouches[0]||e.originalEvent.targetTouches[0],g={x:d.pageX,y:d.pageY},f={x:d.clientX,y:d.clientY}),g.x||g.y?(h=g.x,i=g.y):(f.x||f.y)&&(h=f.x+j.scrollLeft+k.scrollLeft,i=f.y+j.scrollTop+k.scrollTop),{x:h,y:i}},targetRelativeCoordsFromEvent:function(a){var b=a.target,e={x:a.offsetX,y:a.offsetY};return(e.x===c||isNaN(e.x)||e.y===c||isNaN(e.y))&&(e=d.event.documentRelativeCoordsFromEvent(a),e.x-=b.offsetLeft,e.y-=b.offsetTop),e},fastOn:function(a,b,c,d){a.addEventListener(b,c,d||!1)},fastOff:function(a,b,c,d){a.removeEventListener(b,c,d||!1)},on:function(a,b,c,e){var g,h,j,k,l,m;for(l=f(a)?a:[a],j=l.length,m=i(b,c),k=m.length,g=0;j>g;g++)if("function"==typeof l[g].addEventListener)for(h=0;k>h;h++)d.event.fastOn(l[g],m[h].type,m[h].callback,e)},off:function(a,b,c,e){var g,h,j,k,l,m;for(l=f(a)?a:[a],j=l.length,m=i(b,c),k=m.length,g=0;j>g;g++)if("function"==typeof l[g].addEventListener)for(h=0;k>h;h++)d.event.fastOff(l[g],m[h].type,m[h].callback,e)},one:function(a,b,c,e){var g,h,j,k,l,m,n=[].slice,o=[];for(l=f(a)?n.call(a):[a],j=l.length,m=i(b,c),k=m.length,g=0;j>g;g++)if("function"==typeof l[g].addEventListener)for(o[g]=[],h=0;k>h;h++)o[g][h]=function(a,b){var c=n.call(arguments);d.event.fastOff(l[a],m[b].type,o[a][b],e),c.shift(),c.shift(),m[b].callback.apply(this,c)}.bind(null,g,h),d.event.fastOn(l[g],m[h].type,o[g][h],e)}}}(a,d),function(b,c){function d(a){var b=c.getConfig("namespace");return"[data-"+(b?b+"-":"")+a+"]"}function e(a,b){return l&&a[l]?a[l](b):!1}function f(a){for(var c=[],d=a.parentNode;d&&d!==b;)c.push(d),d=d.parentNode;return c}function g(a,c){for(var d=a;d&&d!==b;){if(c(d))return d;d=d.parentNode}return null}function h(a,b){return e(b,a)}function i(a,b){return b&&b.classList&&b.classList.contains(a)}function j(a,b){return b.tagName.toLowerCase()===a}var k=[].slice,l=function(){var a=b.createElement("div");return"function"==typeof a.webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof a.mozMatchesSelector?"mozMatchesSelector":"function"==typeof a.msMatchesSelector?"msMatchesSelector":"function"==typeof a.matchesSelector?"matchesSelector":!1}();c.util.selectors={matchesSelector:e,getChildrenBySelector:function(a,b){return k.call(a.children).filter(h.bind(null,b))},getChildrenByDataNS:function(a,b){return k.call(a.children).filter(h.bind(null,d(b)))},getChildrenByClass:function(a,b){return k.call(a.children).filter(i.bind(null,b))},getChildrenByTag:function(a,b){return k.call(a.children).filter(j.bind(null,b))},getParents:f,getParentsBySelector:function(a,b){return f(a).filter(h.bind(null,b))},getParentsBySelectorNS:function(a,b){return f(a).filter(h.bind(null,d(b)))},getParentsByClass:function(a,b){return f(a).filter(i.bind(null,b))},getParentsByTag:function(a,b){return f(a).filter(j.bind(null,b))},getClosestBySelector:function(a,b){return g(a,h.bind(null,b))},getClosestBySelectorNS:function(a,b){return g(a,h.bind(null,d(b)))},getClosestByClass:function(a,b){return g(a,i.bind(null,b))},getClosestByTag:function(a,b){return g(a,j.bind(null,b))},getAllByDataNS:function(a,b){return k.call(a.querySelectorAll(d(b)))},getScrollableParent:function(c){for(var d,e;c&&c!=b.body;){if(e=a.getComputedStyle(c),e&&(d=e.getPropertyValue("overflow-y"),"scroll"===d||"auto"===d&&c.scrollHeight>c.clientHeight))return c;c=c.parentNode}return null}}}(a.document,d),function(a){var b={copy:function(a){return b.merge({},a)},fastMerge:function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},merge:function(){var a,b,d,e,f,g=[].slice.call(arguments),h=g.length;for(a=g.shift(),d=!0,"boolean"==typeof arguments[h-1]&&(d=arguments[h-1],h--),f=0;h>f;f++)if(b=g.shift(),null!==b)for(e in b)b.hasOwnProperty(e)&&(d||a[e]===c)&&(a[e]=b[e]);return a},inherit:function(a,b,c){var d,e,f=new b;for(d in c)c.hasOwnProperty(d)&&(e=c[d],f[d]="function"==typeof e?function(a,b,c){var d=function(){var c=a.prototype[b];return c?c.apply(this,arguments):null};return function(){var a,b=this._super;return this._super=d,a=c.apply(this,arguments),this._super=b,a}}(b,d,e):e);a.prototype=f,a.prototype.constructor=a},hasPropertiesOfValue:function(a,b){var c=Object.keys(a),d=c.length;if(0===d)return!1;for(;--d>=0;)if(a[c[d]]!==b)return!1;return!0}};a.util.object=b}(d),function(a,b,d){function e(a){return a.match(/\[data-role=/)&&!a.match(/:not\(\[data-role=/)?a.trim():a.trim()+":not([data-role='none'])"}function f(a,f,g,h,i,j,k){var l;if(a){if(!G[a]||j)return g=g||[],g.push("destroy","disable","enable","option","refresh","value"),l={name:a,methods:g,selector:f||"",selectors:f?f.split(",").map(e):[],widgetClass:h||null,namespace:i||"",widgetNameToLowercase:k===c?!0:!!k},G[a]=l,D.trigger(b,"widgetdefined",l,!1),!0}else d.error("Widget with selector ["+f+"] defined without a name, aborting!");return!1}function g(a,c){var d,e,f,g=a&&typeof a!==K?a.id:a;return typeof a===K&&(a=b.getElementById(g)),d=H[g],d&&"object"==typeof d&&(c?e=d.instances[c]:(f=Object.keys(d.instances),e=d.instances[f[0]]),e&&e.element===a)?e:null}function h(a){var b=a.element.id,c=a.name,d=H[b];d||(d={elementId:b,element:a.element,instances:{}}),d.instances[c]=a,H[b]=d}function i(a){var b=a&&typeof a!==K?a.id:a;return H[b]&&H[b].instances||null}function j(a,b){var c,d;return c=b.split(P),d=c.indexOf(a),d>-1&&(c.splice(d,1),b=c.join(P)),b}function k(a){a.removeAttribute(M),a.removeAttribute(O),a.removeAttribute(N)}function l(a,b){var c,d,e;b?(c=j(b,a.getAttribute(M)||""),d=j(b,a.getAttribute(O)||""),e=j(b,a.getAttribute(N)||""),c&&d&&e?(a.setAttribute(M,c),a.setAttribute(O,d),a.setAttribute(N,e)):k(a)):k(a)}function m(a,b){var c=a[b];return c?(c.element&&typeof c.element.setAttribute===L&&l(c.element,b),a[b]=null,!0):!1}function n(a,b){var c,d,e,f=typeof a===K?a:a.id,g=H[f],h=!1;if(g&&(typeof a===K&&(a=g.element),a&&l(a,b),c=H[f]&&H[f].instances)){if(!b){h=!0;for(d in c)c.hasOwnProperty(d)&&(e=m(c,d),c[d]=null,h=h&&e);return E.hasPropertiesOfValue(c,null)&&(H[f]=null),h}return e=m(c,b),E.hasPropertiesOfValue(c,null)&&(H[f]=null),e}return!1}function o(a){return n(a)}function p(a,c,d){var e,f,i=d||{},j=i.create,k=c.widgetClass,l=k?new k(a):!1,m=F.getParentsBySelectorNS(a,"enhance=false");return f=g(a,c.name),f&&f.element===a?f.element:(l&&!m.length&&(l.configure(c,a,d),typeof j===L&&D.one(a,c.name.toLowerCase()+"create",j),a.id&&(l.id=a.id),e=a.getAttribute(M),(!e||e&&-1===e.split(P).indexOf(l.name))&&(a=l.build(a)),a&&(l.element=a,h(l),l.trigger(S.WIDGET_BUILT,l,!1),J||l.init(a),l.bindEvents(a,J),D.trigger(a,S.WIDGET_BOUND,l,!1),D.trigger(b,S.WIDGET_BOUND,l))),l.element)}function q(a,c){var d;typeof a===K&&(a=b.getElementById(a)),d=g(a,c),d&&(d.destroy(),d.trigger("widgetdestroyed"),n(a,c))}function r(a,c){var d,e,f,g,h;if(typeof a===K&&(a=b.getElementById(a)),!c){f=i(a);for(d in f)f.hasOwnProperty(d)&&(e=f[d],e&&(e.destroy(),e.trigger("widgetdestroyed")))}for(g=C.call(a.querySelectorAll("["+O+"]")),h=g.length-1;h>=0;h-=1)g[h]&&r(g[h],!1);o(a)}function s(a,b,c){var d=a.getAttribute(N)||b&&b.name;return b=b||d&&G[d]||{name:d},p(a,b,c)}function t(a,b){var c=Node.DOCUMENT_POSITION_CONTAINS|Node.DOCUMENT_POSITION_PRECEDING;return a.element.compareDocumentPosition(b.element)&c?1:-1}function u(a){s(a.element||a,G[a.widgetName])}function v(a){var c,d,e,f,g,h,i=C.call(a.querySelectorAll(Q)),j=[],k=[],l=Object.keys(G),m=l.length;for(i.forEach(u),d=0;m>d;++d)if(g=l[d],f=G[g],h=f.selectors,h.length)for(c=R(g),j=C.call(a.querySelectorAll(h.join(c+",")+c)),e=j.length;--e>=0;)k.push({element:j[e],widgetName:g});k.sort(t),k.forEach(u),D.trigger(b,"built"),D.trigger(b,S.BOUND)}function w(a){v(a.target)}function x(){var a,c,d,e,f=b.head;if(c=f.querySelectorAll('[name="viewport"]'),a=c.length,a>0)for(--a,e=0;a>e;++e)f.removeChild(c[e]);else d=b.createElement("meta"),d.setAttribute("name","viewport"),d.setAttribute("content","width=device-width, user-scalable=no"),f.firstChild?f.insertBefore(d,f.firstChild):f.appendChild(d)}function y(){B&&(x(),D.trigger(b,"beforerouterinit",B,!1),B.init(J),D.trigger(b,"routerinit",B,!1))}function z(){B&&B.destroy()}var A,B,C=[].slice,D=d.event,E=d.util.object,F=d.util.selectors,G={},H={},I=a.location,J="#build"===I.hash,K="string",L="function",M="data-tau-built",N="data-tau-name",O="data-tau-bound",P=",",Q="*["+M+"]["+N+"]:not(["+O+"])",R=function(a){return":not(["+M+"*='"+a+"']):not(["+O+"*='"+a+"'])"},S={INIT:"tauinit",WIDGET_BOUND:"widgetbound",WIDGET_DEFINED:"widgetdefined",WIDGET_BUILT:"widgetbuilt",BOUND:"bound"};d.widgetDefinitions={},A={justBuild:"#build"===I.hash,dataTau:{built:M,name:N,bound:O,separator:P},destroyWidget:q,destroyAllWidgets:r,createWidgets:v,getDefinitions:function(){return G},getWidgetDefinition:function(a){return G[a]},defineWidget:f,getBinding:g,getAllBindings:i,setBinding:h,removeBinding:n,removeAllBindings:o,_clearBindings:function(){H={}},build:y,run:function(){switch(z(),D.fastOn(b,"create",w),D.trigger(b,S.INIT,{tau:d}),b.readyState){case"interactive":case"complete":y();break;default:D.fastOn(b,"DOMContentLoaded",y.bind(A))}},getRouter:function(){return B},initRouter:function(a){B=new a},instanceWidget:function(a,b,c){var e,f=g(a,b);return a?(!f&&G[b]&&(e=G[b],a=s(a,e,c),f=g(a,b)),f):(d.error("'element' cannot be empty"),null)},stop:z,setJustBuild:function(a){I.hash=a?"build":"",J=a},getJustBuild:function(){return J},_createEventHandler:w},A.eventType=S,d.engine=A}(a,a.document,d),function(a,b,c){function d(a){return a=w.getClosestBySelector(a,"a, label")}function e(a){return a=w.getClosestByTag(a,"li")}function f(){var a;r=d(r),q||!r||"A"!==r.tagName&&"LABEL"!==r.tagName||(a=e(r),a&&a.classList.add(v))}function g(){return a.getElementsByClassName(v)}function h(){var a,b=g(),c=b.length;for(a=0;c>a;a++)b[a].classList.remove(v)}function i(a){var b=a.touches[0];q=q||Math.abs(b.clientX-o)>u.scrollThreshold||Math.abs(b.clientY-p)>u.scrollThreshold,q&&(t(),h())}function j(b){var c=b.touches,d=c[0];1===c.length&&(q=!1,o=d.clientX,p=d.clientY,r=b.target,a.addEventListener("touchmove",i,!1),clearTimeout(s),s=setTimeout(f,u.addActiveClassDelay))}function k(a){0===a.touches.length&&(clearTimeout(s),s=null,q||setTimeout(h,u.keepActiveClassDelay),q=!1)}function l(){"hidden"===a.visibilityState&&h()}function m(){a.addEventListener("touchstart",j,!1),a.addEventListener("touchend",k,!1),a.addEventListener("visibilitychange",l,!1),b.addEventListener("pagehide",h,!1)}function n(){a.removeEventListener("touchstart",j,!1),a.removeEventListener("touchend",k,!1),b.removeEventListener("pagehide",h,!1)}var o,p,q,r,s,t,u={scrollThreshold:5,addActiveClassDelay:10,keepActiveClassDelay:100},v="ui-li-active",w=c.util.selectors;t=function(){a.removeEventListener("touchmove",i,!1)},m(),c.util.anchorHighlight={enable:m,disable:n}}(b,a,d),function(a){a.util.DOM=a.util.DOM||{}}(d),function(a,b,c){function d(b,c,d,e){var f=a.getComputedStyle(b),g=null,h=d;if(f&&(g=f.getPropertyValue(c)))switch(e){case"integer":g=parseInt(g,10),isNaN(g)||(h=g);break;case"float":g=parseFloat(g),isNaN(g)||(h=g);break;default:h=g}return h}function e(b,d,e,f){var g,h=a.getComputedStyle(b,e),i=null,j=c.util;for(g in d)d.hasOwnProperty(g)&&(i=h.getPropertyValue(g),d[g]=j.isNumber(i)&&!f?i.match(/\./gi)?parseFloat(i):parseInt(i,10):i)}function f(a,b,c,d,f,g){var h,i,j,k=0,l=null,m=null,n=null,o=b&&"outer"===b||!1,p=0,q={height:0,"margin-top":0,"margin-bottom":0,"padding-top":0,"padding-bottom":0,"border-top-width":0,"border-bottom-width":0,"box-sizing":""};if(a){h=a.style,"none"!==h.display?(e(a,q,f,!0),p=a.offsetHeight):g&&(l=h.display,m=h.visibility,n=h.position,h.display="block",h.visibility="hidden",h.position="relative",e(a,q,f,!0),p=a.offsetHeight,h.display=l,h.visibility=m,h.position=n),"string"==typeof q.height&&-1===q.height.indexOf("px")&&(q.height=0);for(j in q)q.hasOwnProperty(j)&&"box-sizing"!==j&&(i=parseFloat(q[j]),isNaN(i)&&(i=0),q[j]=i);k+=q.height+q["padding-top"]+q["padding-bottom"],c?k=p:o&&"border-box"!==q["box-sizing"]&&(k+=q["border-top-width"]+q["border-bottom-width"]),d&&(k+=Math.max(0,q["margin-top"])+Math.max(0,q["margin-bottom"]))}return k}function g(a,b,c,d,f,g){var h,i,j,k=0,l=null,m=null,n=null,o=0,p=b&&"outer"===b||!1,q={width:0,"margin-left":0,"margin-right":0,"padding-left":0,"padding-right":0,"border-left-width":0,"border-right-width":0,"box-sizing":""};if(a){h=a.style,"none"!==h.display?(e(a,q,f,!0),o=a.offsetWidth):g&&(l=h.display,m=h.visibility,n=h.position,h.display="block",h.visibility="hidden",h.position="relative",e(a,q,f,!0),h.display=l,h.visibility=m,h.position=n),"string"==typeof q.width&&-1===q.width.indexOf("px")&&(q.width=0);for(j in q)q.hasOwnProperty(j)&&"box-sizing"!==j&&(i=parseFloat(q[j]),isNaN(i)&&(i=0),q[j]=i);k+=q.width+q["padding-left"]+q["padding-right"],c?k=o:p&&"border-box"!==q["box-sizing"]&&(k+=q["border-left-width"]+q["border-right-width"]),d&&(k+=Math.max(0,q["margin-left"])+Math.max(0,q["margin-right"]))}return k}function h(a){var b=0,c=0;do c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;while(null!==a);return{top:c,left:b}}function i(a){return!(a.offsetWidth<=0&&a.offsetHeight<=0)}var j=c.util.DOM;j.getCSSProperty=d,j.extractCSSProperties=e,j.getElementHeight=f,j.getElementWidth=g,j.getElementOffset=h,j.isOccupiedPlace=i}(a,a.document,d),function(a,b,d){d.util.callbacks=function(a){var b,e,f,g,h,i,j,k,l=d.util.object,m=l.copy(a),n=[].slice,o=[],p=!m.once&&[],q={add:function(){if(o){var a=o.length;k(arguments),f?h=o.length:b&&(g=a,j(b))}return this},remove:function(){return o&&n.call(arguments).forEach(function(a){for(var b=o.indexOf(a);b>-1;)o.splice(b,1),f&&(h>=b&&h--,i>=b&&i--),b=o.indexOf(a,b)}),this},has:function(a){return a?!!o&&o.indexOf(a)>-1:!(!o||!o.length)},empty:function(){return o=[],h=0,this},disable:function(){return o=p=b=c,this},disabled:function(){return!o},lock:function(){return p=c,b||q.disable(),this},locked:function(){return!p},fireWith:function(a,b){return!o||e&&!p||(b=b||[],b=[a,b.slice?b.slice():b],f?p.push(b):j(b)),this},fire:function(){return q.fireWith(this,arguments),this},fired:function(){return!!e}};return k=function(a){n.call(a).forEach(function(a){var b=typeof a;"function"===b?m.unique&&q.has(a)||o.push(a):a&&a.length&&"string"!==b&&k(a)})},j=function(a){for(b=m.memory&&a,e=!0,i=g||0,g=0,h=o.length,f=!0;o&&h>i;){if(o[i].apply(a[0],a[1])===!1&&m.stopOnFalse){b=!1;break}i++}f=!1,o&&(p?p.length&&j(p.shift()):b?o=[]:q.disable())},q}}(a,a.document,d),function(a,b,c){var d=function(a){var b=c.util.callbacks,e=c.util.object,f=[["resolve","done",b({once:!0,memory:!0}),"resolved"],["reject","fail",b({once:!0,memory:!0}),"rejected"],["notify","progress",b({memory:!0})]],g="pending",h={},i={state:function(){return g},always:function(){return h.done(arguments).fail(arguments),this},then:function(){var a=arguments;return new d(function(b){f.forEach(function(c,d){var e="function"==typeof a[d]&&a[d];h[c[1]](function(){var a=e&&e.apply(this,arguments);a&&"function"==typeof a.promise?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[c[0]+"With"](this===i?b.promise():this,e?[a]:arguments)})}),a=null}).promise()},promise:function(a){return a?e.merge(a,i):i}};return i.pipe=i.then,f.forEach(function(a,b){var c=a[2],d=a[3];i[a[1]]=c.add,d&&c.add(function(){g=d},f[1^b][2].disable,f[2][2].lock),h[a[0]]=function(){return h[a[0]+"With"](this===h?i:this,arguments),this},h[a[0]+"With"]=c.fireWith}),i.promise(h),a&&a.call(h,h),h};c.util.deferred=d}(a,a.document,d),function(a,b,d){function e(a){var b=d.getConfig(b);return"data-"+(b?b+"-":"")+a}var f=d.util.selectors,g=d.util.DOM;g.inheritAttr=function(a,b,c){var d,e=a.getAttribute(b);return!e&&(d=f.getClosestBySelector(a,c))?d.getAttribute(b):e},g.getNumberFromAttribute=function(a,b,c,d){var e=a.getAttribute(b),f=d;return isNaN(e)||("float"===c?(e=parseFloat(e),isNaN(e)||(f=e)):(e=parseInt(e,10),isNaN(e)||(f=e))),f},g.setNSData=function(a,b,c){a.setAttribute(e(b),c)},g.getNSData=function(a,b){var c=a.getAttribute(e(b));return"true"===c?!0:"false"===c?!1:c},g.hasNSData=function(a,b){return a.hasAttribute(e(b))},g.nsData=function(a,b,d){return d===c?g.getNSData(a,b):g.setNSData(a,b,d)},g.removeNSData=function(a,b){a.removeAttribute(e(b))},g.getData=function(a){var b,c,d,e,f="data-",g={},h=a.attributes,i=h.length;for(e=0;i>e;e++)b=h.item(e),c=b.nodeName,c.indexOf(f)>-1&&(d=b.value,g[c.replace(f,"")]="true"===d.toLowerCase()?!0:"false"===d.toLowerCase()?!1:d);return g},g.removeAttribute=function(a,b){a.removeAttribute(b),a[b]=!1},g.setAttribute=function(a,b,c){a[b]=c,a.setAttribute(b,c)}}(a,a.document,d),function(a,b){var c=b.engine,d={getInstance:c.getBinding,getAllInstances:c.getAllBindings};a.addEventListener(c.eventType.WIDGET_DEFINED,function(a){var d=a.detail,e=d.name;b.widget[e]=function(a,b){return c.instanceWidget(a,e,b)}},!0),b.widget=d}(a.document,d),function(a,b,c){function d(a,b){var c=a.classList;c.remove(b+n.left),c.remove(b+n.up),c.remove(b+n.right),c.remove(b+n.down)}var e=[].slice,f=b.engine,g=f.dataTau,h=b.util,i=b.event,j=h.DOM,k=h.object,l=function(){return this},m={},n={focusPrefix:"ui-focus-",blurPrefix:"ui-blur-",up:"up",down:"down",left:"left",right:"right"},o="function";m.configure=function(a,c,d){var e,f,g=this;g.options=g.options||{},g.element=g.element||null,a&&(e=a.name,f=a.namespace,g.name=e,g.widgetName=e,g.widgetEventPrefix=e.toLowerCase(),g.namespace=f,g.widgetFullName=((f?f+"-":"")+e).toLowerCase(),g.id=b.getUniqueId(),g.selector=a.selector),typeof g._configure===o&&g._configure(c),g._getCreateOptions(c),k.fastMerge(g.options,d)},m._getCreateOptions=function(a){var b=this.options,d=/[A-Z]/g;return b!==c&&Object.keys(b).forEach(function(c){var e=j.getNSData(a,c.replace(d,function(a){return"-"+a.toLowerCase()}));null!==e&&(b[c]=e)}),b},m.build=function(a){var b,c,d=this,e=a.getAttribute(g.built),f=a.getAttribute(g.name);return i.trigger(a,d.widgetEventPrefix+"beforecreate"),b=a.id,b?d.id=b:a.id=d.id,c=typeof d._build===o?d._build(a):a,e=e?e+g.separator+d.name:d.name,f=f?f+g.separator+d.name:d.name,a.setAttribute(g.built,e),a.setAttribute(g.name,f),c},m.init=function(a){var b=this;return b.id=a.id,typeof b._init===o&&b._init(a),a.getAttribute("disabled")||b.options.disabled===!0?b.disable():b.enable(),b},m.bindEvents=function(a,b){var c=this,d=a.getAttribute(g.bound);return b||(d=d?d+g.separator+c.name:c.name,a.setAttribute(g.bound,d)),typeof c._buildBindEvents===o&&c._buildBindEvents(a),b||typeof c._bindEvents!==o||c._bindEvents(a),c.trigger(c.widgetEventPrefix+"create",c),c},m._prepareAnimation=function(a,b){var c=this.element;switch(a){case"focus":d(c,n.blurPrefix),d(c,n.focusPrefix),c.classList.add(n.focusPrefix+b);break;case"blur":d(c,n.focusPrefix),d(c,n.blurPrefix),c.classList.add(n.blurPrefix+b)}},m._focus=function(a){this.element;typeof this._prepareAnimation===o&&this._prepareAnimation("focus",a),this.element.focus()},m._blur=function(a){var b=this.element;typeof this._prepareAnimation===o&&this._prepareAnimation("blur",a),b.blur()},m.destroy=function(a){var b=this;a=a||b.element,typeof b._destroy===o&&b._destroy(a),b.element&&b.trigger(b.widgetEventPrefix+"destroy"),a&&f.removeBinding(a,b.name)},m.disable=function(){var a=this,b=a.element,c=e.call(arguments);return typeof a._disable===o&&(c.unshift(b),a._disable.apply(a,c)),this},m.enable=function(){var a=this,b=a.element,c=e.call(arguments);return typeof a._enable===o&&(c.unshift(b),a._enable.apply(a,c)),this},m.refresh=function(){var a=this;return typeof a._refresh===o&&a._refresh.apply(a,arguments),a},m.option=function(){var a,b,d,f=this,g=e.call(arguments),h=g.shift(),i=g.shift(),j=!1;if("string"==typeof h)b=f._oneOption(h,i),h!==c&&i!==c&&(j=b,b=c);else if("object"==typeof h)for(a in h)h.hasOwnProperty(a)&&(d=f._oneOption(a,h[a]),a!==c&&h[a]!==c&&(j=j||d));return j&&f.refresh(),b},m._oneOption=function(a,b){var d,e=this,f=!1;return b===c?(d="_get"+(a[0].toUpperCase()+a.slice(1)),typeof e[d]===o?e[d]():e.options[a]):(d="_set"+(a[0].toUpperCase()+a.slice(1)),typeof e[d]===o?e[d](e.element,b):(e.options[a]=b,e.element&&(e.element.setAttribute("data-"+a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}),b),f=!0)),f)},m.isBound=function(a){var b=this.element;return a=a||this.name,b&&b.hasAttribute(g.bound)&&b.getAttribute(g.bound).indexOf(a)>-1},m.isBuilt=function(a){var b=this.element;return a=a||this.name,b&&b.hasAttribute(g.built)&&b.getAttribute(g.built).indexOf(a)>-1},m.value=function(a){var b=this;return a!==c?typeof b._setValue===o?b._setValue(a):b:typeof b._getValue===o?b._getValue():b},m.trigger=function(a,b,c,d){return i.trigger(this.element,a,b,c,d)},m.on=function(a,b,c){i.on(this.element,a,b,c)},m.off=function(a,b,c){i.off(this.element,a,b,c)},l.prototype=m,b.widget.BaseWidget=l}(a.document,d),function(a,b){b.widget.core=b.widget.core||{}}(a.document,d),function(c){function d(a,b,c){var d=a.element,e=d.classList,f=a._ui.overlay,g=a._callbacks.animationEnd;d.removeEventListener("animationend",g,!1),d.removeEventListener("webkitAnimationEnd",g,!1),b.split(" ").forEach(function(a){a=a.trim(),a.length>0&&(e.remove(a),f&&f.classList.remove(a))}),"pending"===c.state()&&c.resolve()}function e(a,b){var c=new i;return c.then(function(){c===a._callbacks.transitionDeferred&&b()}),a._callbacks.transitionDeferred=c,c}var f=c.widget.BaseWidget,g=c.engine,h=c.util.object,i=c.util.deferred,j=c.util.selectors,k=function(){var a=this,b={};a.selectors=p,a.options=h.merge({},k.defaults,{fullSize:c.getConfig("popupFullSize",k.defaults.fullSize),enablePopupScroll:c.getConfig("enablePopupScroll",k.defaults.enablePopupScroll)}),a.state=m.CLOSED,b.overlay=null,b.header=null,b.footer=null,b.content=null,b.container=null,a._ui=b,a._callbacks={}},l={transition:"none",dismissible:!0,overlay:!0,header:!1,footer:!1,overlayClass:"",history:!0,fullSize:!1,enablePopupScroll:null},m={DURING_OPENING:0,OPENED:1,DURING_CLOSING:2,CLOSED:3},n="ui-popup",o={popup:n,active:n+"-active",overlay:n+"-overlay",header:n+"-header",footer:n+"-footer",content:n+"-content",wrapper:n+"-wrapper",build:"ui-build",popupScroll:"ui-scroll-on",fixed:"ui-fixed"},p={header:"."+o.header,content:"."+o.content,footer:"."+o.footer},q="popup",r={show:q+"show",hide:q+"hide",before_show:q+"beforeshow",before_hide:q+"beforehide"},s=new f;k.classes=o,k.events=r,k.defaults=l,s._buildContent=function(a){var c,d,e=this,f=e._ui,g=e.selectors,h=f.content||a.querySelector(g.content),i=f.footer||a.querySelector(g.footer),j=[].slice.call(a.childNodes),k=j.length;if(!h){for(h=b.createElement("div"),h.className=o.content,c=0;k>c;++c)d=j[c],d!==f.footer&&d!==f.header&&h.appendChild(d);a.insertBefore(h,i)}h.classList.add(o.content),f.content=h},s._buildHeader=function(a){var c=this,d=c._ui,e=c.options,f=c.selectors,g=d.content||a.querySelector(f.content),h=d.header||a.querySelector(f.header);h||e.header===!1||(h=b.createElement("div"),h.className=o.header,"boolean"!=typeof e.header&&(h.innerHTML=e.header),a.insertBefore(h,g)),h&&h.classList.add(o.header),d.header=h},s._setHeader=function(a,b){var c=this,d=c._ui,e=d.header;e&&(e.parentNode.removeChild(e),d.header=null),c.options.header=b,c._buildHeader(d.container)},s._buildFooter=function(a){var c=this,d=c._ui,e=c.options,f=d.footer||a.querySelector(c.selectors.footer);f||e.footer===!1||(f=b.createElement("div"),f.className=o.footer,"boolean"!=typeof e.footer&&(f.innerHTML=e.footer),a.appendChild(f)),f&&f.classList.add(o.footer),d.footer=f},s._setFooter=function(a,b){var c=this,d=c._ui,e=d.footer;e&&(e.parentNode.removeChild(e),d.footer=null),c.options.footer=b,c._buildFooter(d.container)},s._build=function(a){var c,d=this,e=d._ui,f=a.firstChild;for(a.classList.add(o.popup),c=b.createElement("div"),c.classList.add(o.wrapper),e.wrapper=c,e.container=c;f;)c.appendChild(f),f=a.firstChild;return a.appendChild(c),this._buildHeader(e.container),this._buildFooter(e.container),this._buildContent(e.container),this._setOverlay(a,this.options.overlay),a},s._setOverlay=function(a,c){var d=this,e=d.options.overlayClass,f=d._ui,g=f.overlay;c?(g||(g=b.createElement("div"),a.parentNode.insertBefore(g,a),f.overlay=g),g.className=o.overlay+(e?" "+e:"")):g&&(g.parentNode.removeChild(g),f.overlay=null)},s._isActive=function(){var a=this.state;return a===m.DURING_OPENING||a===m.OPENED},s._isOpened=function(){return this.state===m.OPENED},s._init=function(b){var c=this,d=c.selectors,e=c._ui;e.header=e.header||b.querySelector(d.header),e.footer=e.footer||b.querySelector(d.footer),e.content=e.content||b.querySelector(d.content),e.wrapper=e.wrapper||b.querySelector("."+o.wrapper),e.container=e.wrapper||b,e.page=j.getClosestByClass(b,"ui-page")||a},s._setActive=function(a){var b=this,c=o.active,d=b.element.classList,e=g.getRouter().getRoute("popup"),f=b.options;"string"!=typeof f.positionTo&&(f.positionTo=null),a?(e.setActive(b,f),d.add(c),b.state=m.OPENED):(e.setActive(null,f),d.remove(c),b.state=m.CLOSED)},s._bindEvents=function(){var b=this;b._ui.page.addEventListener("pagebeforehide",b,!1),a.addEventListener("resize",b,!1),b._bindOverlayEvents()},s._bindOverlayEvents=function(){var a=this._ui.overlay;
a&&a.addEventListener("click",this,!1)},s._unbindOverlayEvents=function(){var a=this._ui.overlay;a&&a.removeEventListener("click",this,!1)},s._unbindEvents=function(){var b=this;b._ui.page.removeEventListener("pagebeforehide",b,!1),a.removeEventListener("resize",b,!1),b._unbindOverlayEvents()},s._layout=function(b){var c=this,d=b.classList,e=c._ui,f=e.wrapper,g=e.header,h=e.footer,i=e.content,j=0,k=0;c.options.enablePopupScroll===!0?b.classList.add(o.popupScroll):b.classList.remove(o.popupScroll),d.contains(o.popupScroll)&&(d.add(o.build),g&&(j=g.offsetHeight,g.classList.contains(o.fixed)&&(i.style.marginTop=j+"px")),h&&(k=h.offsetHeight,h.classList.contains(o.fixed)&&(i.style.marginBottom=k+"px")),f.style.height=Math.min(i.offsetHeight+j+k,b.offsetHeight)+"px",d.remove(o.build)),!c.options.fullSize||d.contains("ui-popup-toast")||d.contains("ui-ctxpopup")||(f.style.height=a.innerHeight+"px")},s.open=function(a){var b=this,c=h.merge(b.options,a);b._isActive()||(c.dismissible||g.getRouter().lock(),b._show(c))},s.close=function(a){var b=this,c=h.merge(b.options,a);b._isActive()&&(c.dismissible||g.getRouter().unlock(),b._hide(c))},s._show=function(a){var b=this,c=h.merge({},a);b._layout(b.element),b.state=m.DURING_OPENING,c.ext=" in ",b.trigger(r.before_show),b._transition(c,b._onShow.bind(b))},s._onShow=function(){var a=this,b=a._ui.overlay;b&&(b.style.display="block"),a._setActive(!0),a.trigger(r.show)},s._hide=function(a){var b=this,c=b._isOpened();b.state=m.DURING_CLOSING,b.trigger(r.before_hide),c?(a.ext=" out ",b._transition(a,b._onHide.bind(b))):(b._callbacks.transitionDeferred.reject(),b._callbacks.animationEnd(),b._onHide())},s._onHide=function(){var a=this,b=a._ui.overlay;b&&(b.style.display=""),a._setActive(!1),a.trigger(r.hide)},s.handleEvent=function(a){var b=this;switch(a.type){case"pagebeforehide":b.close({transition:"none"});break;case"resize":b._onResize(a);break;case"click":a.target===b._ui.overlay&&b._onClickOverlay(a)}},s._refresh=function(){var a=this;a._unbindOverlayEvents(),a._setOverlay(a.element,a.options.overlay),a._bindOverlayEvents()},s._onClickOverlay=function(a){var b=this.options;a.preventDefault(),a.stopPropagation(),b.dismissible&&this.close()},s._onResize=function(){this._isOpened()&&this._refresh()},s._transition=function(b,c){var f,g,h=this,i=b.transition||h.options.transition||"none",j=i+b.ext,k=h.element,l=h._ui.overlay,m=k.classList;return f=e(h,c),"none"!==i?(g=d.bind(null,h,j,f),h._callbacks.animationEnd=g,k.addEventListener("animationend",g,!1),k.addEventListener("webkitAnimationEnd",g,!1),j.split(" ").forEach(function(a){a=a.trim(),a.length>0&&(m.add(a),l&&l.classList.add(a))})):a.setTimeout(f.resolve,0),f},s._destroy=function(){var a=this,b=a.element;a._unbindEvents(b),a._setOverlay(b,!1)},k.prototype=s,c.widget.core.Popup=k,g.defineWidget("Popup","[data-role='popup'], .ui-popup",["open","close","reposition"],k,"core")}(d),function(a,b,c){function d(b,c){var d,e,f,g=b.options,h=g.arrow.split(","),i=b.element,j=a.innerWidth,k=a.innerHeight,l=i.offsetWidth,m=i.offsetHeight,n=c.getBoundingClientRect(),o=n.left,p=n.top,q=Math.min(n.width,j-o),r=Math.min(n.height,k-p),s={l:{dir:"l",fixedPositionField:"x",fixedPositionFactor:1,size:l,max:o},r:{dir:"r",fixedPositionField:"x",fixedPositionFactor:-1,size:l,max:j-o-q},b:{dir:"b",fixedPositionField:"y",fixedPositionFactor:-1,size:m,max:p},t:{dir:"t",fixedPositionField:"y",fixedPositionFactor:1,size:m,max:k-p-r}};return d=s[h[0]]||s.t,h.forEach(function(a){var b=s[a],c=b.max;e||(b.size<c?e=b:c>d.max&&(d=b))}),e||(e=d,"x"===e.fixedPositionField?l=e.max:m=e.max),f={x:o+q/2-l/2,y:p+r/2-m/2,w:l,h:m,dir:e.dir},f[e.fixedPositionField]+=("x"===e.fixedPositionField?(l+q)*e.fixedPositionFactor:(m+r)*e.fixedPositionFactor)/2+g.distance*e.fixedPositionFactor,f}function e(b,c,d,e){var f,g,h=b._ui,i=h.wrapper,j=h.arrow,l=b.element,m=j.style,n=a.innerWidth,o=a.innerHeight,p=i.getBoundingClientRect(),q=j.offsetWidth/2,r={"padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0},s={"margin-top":0,"margin-bottom":0,"margin-left":0,"margin-right":0,"padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0},t={t:{pos:d,min:"left",max:"right",posField:"x",valField:"w",styleField:"left"},b:{pos:d,min:"left",max:"right",posField:"x",valField:"w",styleField:"left"},l:{pos:e,min:"top",max:"bottom",posField:"y",valField:"h",styleField:"top"},r:{pos:e,min:"top",max:"bottom",posField:"y",valField:"h",styleField:"top"}},u=t[c.dir];return k.extractCSSProperties(l,r),k.extractCSSProperties(i,s),f={t:r["padding-top"]+s["margin-top"]+s["padding-top"],b:r["padding-bottom"]+s["margin-bottom"]+s["padding-bottom"],l:r["padding-left"]+s["margin-left"]+s["padding-left"],r:r["padding-right"]+s["margin-right"]+s["padding-right"]},p={left:f.l+c.x,right:f.l+p.width+c.x,top:f.t+c.y,bottom:p.height+f.t+c.y},p[u.min]>u.pos-q?(g=c[u.posField],g>0?(c[u.posField]=Math.max(u.pos-q,0),u.pos=c[u.posField]+q):u.pos=p[u.min]+q):p[u.max]<u.pos+q&&(g=("w"===u.valField?n:o)-(c[u.posField]+c[u.valField]),g>0?(c[u.posField]+=Math.min(g,u.pos+q-p[u.max]),u.pos=c[u.posField]+c[u.valField]-q):u.pos=p[u.max]-q),m[u.styleField]=u.pos-q-c[u.posField]+"px",c}function f(a,b){var c=b.getBoundingClientRect(),d={};switch(a){case"l":d.x=c.right,d.y=c.top+c.height/2;break;case"r":d.x=c.left,d.y=c.top+c.height/2;break;case"t":d.x=c.left+c.width/2,d.y=c.bottom;break;case"b":d.x=c.left+c.width/2,d.y=c.top}return d}var g=c.widget.core.Popup,h=g.prototype,i=c.engine,j=c.util.object,k=c.util.DOM,l={arrow:"l,b,r,t",positionTo:"window",distance:0},m=function(){var a,b=this;g.call(b),b.options=j.merge(b.options,l),a=b._ui||{},a.wrapper=null,a.arrow=null,b._ui=a},n="ui-popup",o=j.merge({},g.classes,{context:"ui-ctxpopup",arrow:"ui-arrow",arrowDir:n+"-arrow-"}),p=j.merge({},g.events,{before_position:"beforeposition"}),q={WINDOW:"window",ORIGIN:"origin"},r=new g;m.defaults=j.merge({},g.defaults,l),m.classes=o,m.events=p,r._build=function(a){var c,d=this,e=d._ui;return c=b.createElement("div"),c.appendChild(b.createElement("span")),c.classList.add(o.arrow),e.arrow=c,a.appendChild(c),h._build.call(d,a),a},r._init=function(a){var b=this,c=b._ui;h._init.call(this,a),c.arrow=c.arrow||a.querySelector("."+o.arrow)},r._layout=function(a){var b=this;this._reposition(),h._layout.call(b,a)},r._reposition=function(a){var b=this,c=b.element,d=c.classList;a=j.merge({},b.options,a),b.trigger(p.before_position,null,!1),d.add(o.build),b._setContentHeight(),b._placementCoords(a),d.remove(o.build)},r._findClickedElement=function(a,c){return b.elementFromPoint(a,c)},r._placementCoords=function(a){var c,g,h,i,j,k=this,l=a.positionTo,m=a.x,n=a.y,p=k.element,r=p.style,s=p.classList;if("string"==typeof l){if(l===q.ORIGIN&&"number"==typeof m&&"number"==typeof n)h=k._findClickedElement(m,n);else if(l!==q.WINDOW)try{h=b.querySelector(a.positionTo)}catch(t){}}else h=l;h&&(s.add(o.context),g=p.offsetHeight,j=d(k,h),i=j.dir,s.add(o.arrowDir+i),k._ui.arrow.setAttribute("type",i),"number"!=typeof m&&"number"!=typeof n&&(c=f(i,h),m=c.x,n=c.y),j=e(k,j,m,n),g>j.h&&k._setContentHeight(j.h),r.left=j.x+"px",r.top=j.y+"px")},r._setContentHeight=function(b){var c,d,e,f=this,g=f.element,h=f._ui.content;h&&(c=h.style,(c.height||c.minHeight)&&(c.height="",c.minHeight=""),b=b||a.innerHeight,d=h.offsetHeight,e=g.offsetHeight,e>b&&(d-=e-b,c.height=d+"px",c.minHeight=d+"px"))},r._onHide=function(){var a=this,b=a._ui,c=a.element,d=c.classList,e=(b.content,b.arrow);d.remove(o.context),["l","r","b","t"].forEach(function(a){d.remove(o.arrowDir+a)}),c.removeAttribute("style"),e.removeAttribute("style"),h._onHide.call(a)},r._destroy=function(){var a,b=this,c=b.element,d=b._ui,e=d.wrapper,f=e.children.length;for(h._destroy.call(b),a=0;f>a;a++)c.appendChild(e.children[0]);e.parentNode.removeChild(e),d.arrow.parentNode.removeChild(d.arrow),d.wrapper=null,d.arrow=null},r.reposition=function(a){this._isActive()&&this._reposition(a)},m.prototype=r,c.widget.core.ContextPopup=m,i.defineWidget("Popup","[data-role='popup'], .ui-popup",["open","close","reposition"],m,"core",!0),c.widget.popup=c.widget.Popup}(a,a.document,d),function(a,b){function c(a){a.reset()}function d(a,b){var c=a._ui.marqueeInnerElement,d=c.scrollWidth,e=d/b;return e}function e(b,c){var d,e=b._ui.marqueeInnerElement,f=b.element,g=f.offsetWidth,h=e.scrollWidth,i=a.createElement("style"),j=c+"-"+b.id;switch(c){case t.SLIDE:d="@-webkit-keyframes "+j+" {0% { -webkit-transform: translate3d(0, 0, 0);}98%, 100% { -webkit-transform: translate3d(-"+(h-g)+"px, 0, 0);} }";break;case t.SCROLL:d="@-webkit-keyframes "+j+" {0% { -webkit-transform: translate3d(0, 0, 0);}100% { -webkit-transform: translate3d(-100%, 0, 0);} }";break;case t.ALTERNATE:d="@-webkit-keyframes "+j+" {0% { -webkit-transform: translate3d(0, 0, 0);}50% { -webkit-transform: translate3d(-"+(h-g)+"px, 0, 0);}100% { -webkit-transform: translate3d(0, 0, 0);} }";break;default:d=null}return d&&(b.element.appendChild(i),i.sheet.insertRule(d,0),b._ui.styleSheelElement=i),j}function f(a,c){var f=a._ui.marqueeInnerElement,g=f.style,h=d(a,isNaN(parseInt(c.speed))?v.speed:c.speed),i=e(a,c.marqueeStyle);isNaN(parseInt(c.speed))&&b.warn("speed value must be number(px/sec)"),"infinite"!==c.iteration&&isNaN(c.iteration)&&b.warn("iteration count must be number or 'infinite'"),isNaN(c.delay)&&b.warn("delay value must be number"),g.webkitAnimationName=i,g.webkitAnimationDuration=h+"s",g.webkitAnimationIterationCount=c.iteration,g.webkitAnimationTimingFunction=c.timingFunction,g.webkitAnimationDelay=c.delay+"s"}function g(a,b){var c=a.element;switch(b){case u.GRADIENT:c.offsetWidth<a._ui.marqueeInnerElement.scrollWidth&&c.classList.add(r.MARQUEE_GRADIENT);break;case u.ELLIPSIS:c.classList.add(r.MARQUEE_ELLIPSIS)}}function h(a,b){b?a.start():a.stop()}var i=b.widget.BaseWidget,j=b.engine,k=b.event,l=b.util.object,m=function(){this._ui={},this._ui.marqueeInnerElement=null,this._ui.styleSheelElement=null,this._state=p.STOPPED,this.options=l.merge({},m.defaults),this._callbacks={}},n=new i,o="ui-marquee",p={RUNNING:"running",STOPPED:"stopped",IDLE:"idle"},q={MARQUEE_START:"marqueestart",MARQUEE_END:"marqueeend",MARQUEE_STOPPED:"marqueestopped"},r={MARQUEE_CONTENT:o+"-content",MARQUEE_GRADIENT:o+"-gradient",MARQUEE_ELLIPSIS:o+"-ellipsis",ANIMATION_RUNNING:o+"-anim-running",ANIMATION_STOPPED:o+"-anim-stopped",ANIMATION_IDLE:o+"-anim-idle"},s={MARQUEE_CONTENT:"."+o+"-content"},t={SCROLL:"scroll",SLIDE:"slide",ALTERNATE:"alternate"},u={GRADIENT:"gradient",ELLIPSIS:"ellipsis",NONE:"none"},v={marqueeStyle:t.SLIDE,speed:60,iteration:1,delay:2,timingFunction:"linear",ellipsisEffect:"gradient",autoRun:!0};m.classes=r,m.defaults=v,n._build=function(b){for(var c=a.createElement("div");b.hasChildNodes();)c.appendChild(b.removeChild(b.firstChild));return c.classList.add(r.MARQUEE_CONTENT),b.appendChild(c),this._ui.marqueeInnerElement=c,b},n._init=function(a){var b=this;return b._ui.marqueeInnerElement=b._ui.marqueeInnerElement||a.querySelector(s.MARQUEE_CONTENT),g(b,b.options.ellipsisEffect),f(b,b.options),h(b,b.options.autoRun),a},n._bindEvents=function(){var a=this,b=a._ui.marqueeInnerElement,d=c.bind(null,a);a._callbacks.animationEnd=d,k.one(b,"webkitAnimationEnd",d)},n._refresh=function(){var a=this;a._resetStyle(),g(a,a.options),f(a,a.options),h(a,a.options.autoRun)},n._resetStyle=function(){var a=this,b=a.element,c=a._ui.styleSheelElement,d=a._ui.marqueeInnerElement.style;b.contains(c)&&b.removeChild(c),d.webkitAnimationName="",d.webkitAnimationDuration="",d.webkitAnimationDelay="",d.webkitAnimationIterationCount="",d.webkitAnimationTimingFunction=""},n._resetDOM=function(){for(var a=this._ui;a.marqueeInnerElement.hasChildNodes();)this.element.appendChild(a.marqueeInnerElement.removeChild(a.marqueeInnerElement.firstChild));return this.element.removeChild(a.marqueeInnerElement),null},n._destroy=function(){var a=this;return a._resetStyle(),a._resetDOM(),a._callbacks=null,a._ui=null,null},n._animationStart=function(){var a=this,b=a.element.classList,c=a._ui.marqueeInnerElement.classList;a._state=p.RUNNING,b.contains(r.MARQUEE_ELLIPSIS)&&b.remove(r.MARQUEE_ELLIPSIS),c.remove(r.ANIMATION_IDLE,r.ANIMATION_STOPPED),c.add(r.ANIMATION_RUNNING),a.trigger(q.MARQUEE_START)},n.start=function(){var a=this;switch(a._state){case p.IDLE:f(a,a.options),a._bindEvents(),a._animationStart();break;case p.STOPPED:a._state=p.RUNNING,a._animationStart();break;case p.RUNNING:}},n.stop=function(){var a=this,b=a._ui.marqueeInnerElement.classList;a._state!=p.IDLE&&(a._state=p.STOPPED,b.remove(r.ANIMATION_RUNNING),b.add(r.ANIMATION_STOPPED),a.trigger(q.MARQUEE_STOPPED))},n.reset=function(){var a=this,b=a.element.classList,c=a._ui.marqueeInnerElement.classList;a._state!=p.IDLE&&(a._state=p.IDLE,c.remove(r.ANIMATION_RUNNING,r.ANIMATION_STOPPED),c.add(r.ANIMATION_IDLE),a.options.ellipsisEffect==u.ELLIPSIS&&b.add(r.MARQUEE_ELLIPSIS),a._resetStyle(),a.trigger(q.MARQUEE_END))},m.prototype=n,b.widget.core.Marquee=m,j.defineWidget("Marquee",".ui-marquee",["start","stop","reset"],m,"core")}(a.document,d),function(a,b){b.widget.wearable=b.widget.wearable||{}}(a,d),function(a,b){var c=b.widget.BaseWidget,d=b.engine,e=function(){},f=new c;e.events={},f._build=function(a){return a},f._init=function(a){return a},f._bindEvents=function(a){return a},f._refresh=function(){return null},f._destroy=function(){return null},e.prototype=f,b.widget.wearable.Button=e,d.defineWidget("Button",".ui-btn",[],e,"wearable")}(a.document,d),function(a){var b=function(b,c){return new a.event.gesture.Instance(b,c)};b.defaults={triggerEvent:!1,updateVelocityInterval:16,estimatedPointerTimeDifference:15},b.Orientation={VERTICAL:"vertical",HORIZONTAL:"horizontal"},b.Direction={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right"},b.Event={START:"start",MOVE:"move",END:"end",CANCEL:"cancel",BLOCKED:"blocked"},b.Result={PENDING:1,RUNNING:2,FINISHED:4,BLOCK:8},b.plugin={},b.createDetector=function(a,c,d){if(!b.plugin[a])throw a+" gesture is not supported";return new b.plugin[a](c,d)},a.event.gesture=b}(d,a),function(a,b){var c=a.event.gesture;c.utils={getCenter:function(a){var c=[],d=[];return[].forEach.call(a,function(a){c.push(isNaN(a.clientX)?a.pageX:a.clientX),d.push(isNaN(a.clientY)?a.pageY:a.clientY)}),{clientX:(b.min.apply(b,c)+b.max.apply(b,c))/2,clientY:(b.min.apply(b,d)+b.max.apply(b,d))/2}},getVelocity:function(a,c,d){return{x:b.abs(c/a)||0,y:b.abs(d/a)||0}},getAngle:function(a,c){var d=c.clientY-a.clientY,e=c.clientX-a.clientX;return 180*b.atan2(d,e)/b.PI},getDirection:function(a,d){var e=b.abs(a.clientX-d.clientX),f=b.abs(a.clientY-d.clientY);return e>=f?a.clientX-d.clientX>0?c.Direction.LEFT:c.Direction.RIGHT:a.clientY-d.clientY>0?c.Direction.UP:c.Direction.DOWN},getDistance:function(a,c){var d=c.clientX-a.clientX,e=c.clientY-a.clientY;return b.sqrt(d*d+e*e)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a===c.Direction.UP||a===c.Direction.DOWN},isHorizontal:function(a){return a===c.Direction.LEFT||a===c.Direction.RIGHT},getOrientation:function(a){return this.isVertical(a)?c.Orientation.VERTICAL:c.Orientation.HORIZONTAL}}}(d,a.Math),function(a){var b=a.event.gesture,c=a.util.object.merge,d=function(a,b){this.sender=b,this.strategy=a.create(),this.name=this.strategy.name,this.index=this.strategy.index||100,this.options=this.strategy.options||{}};d.prototype.detect=function(a){return this.strategy.handler(a,this.sender,this.strategy.options)},d.Sender={sendEvent:function(){}},d.plugin={},d.plugin.create=function(a){a.types||(a.types=[a.name]);var b=d.plugin[a.name]=function(b){this.options=c({},a.defaults,b)};return b.prototype.create=function(){return c({options:this.options},a)},b},b.Detector=d}(d,a),function(a,b,c){var d=a.event.gesture,e=a.util.object.merge,f="ontouchstart"in b;d.Manager=function(){var a=null,b=null,g=!1,h=!1,i=function(){this.instances=[],this.gestureDetectors=[],this.runningDetectors=[],this.detectorRequestedBlock=null,this.unregisterBlockList=[],this.gestureEvents=null,this.velocity=null};return i.prototype={_bindStartEvents:function(a){var b=a.getElement();f&&b.addEventListener("touchstart",this),b.addEventListener("mousedown",this)},_bindEvents:function(){f&&(c.addEventListener("touchmove",this),c.addEventListener("touchend",this),c.addEventListener("touchcancel",this)),c.addEventListener("mousemove",this),c.addEventListener("mouseup",this)},_unbindStartEvents:function(a){var b=a.getElement();f&&b.removeEventListener("touchstart",this),b.removeEventListener("mousedown",this)},_unbindEvents:function(){f&&(c.removeEventListener("touchmove",this),c.removeEventListener("touchend",this),c.removeEventListener("touchcancel",this)),c.removeEventListener("mousemove",this),c.removeEventListener("mouseup",this)},handleEvent:function(a){var b=a.type.toLowerCase();if(b.match(/touch/)&&(h=!0),!b.match(/mouse/)||!h&&1===a.which)switch(a.type){case"mousedown":case"touchstart":this._start(a);break;case"mousemove":case"touchmove":this._move(a);break;case"mouseup":case"touchend":this._end(a);break;case"touchcancel":this._cancel(a)}},_start:function(a){var c=a.currentTarget,f=[];g||(this._resetDetecting(),this._bindEvents(),b=this._createDefaultEventData(d.Event.START,a),this.gestureEvents={start:b,last:b},this.velocity={event:b,x:0,y:0},b=e(b,this._createGestureEvent(d.Event.START,a)),g=!0),this.instances.forEach(function(a){a.getElement()===c&&(f=f.concat(a.getGestureDetectors()))},this),f.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestureDetectors=this.gestureDetectors.concat(f),this._detect(f,b)},_move:function(a){g&&(a=this._createGestureEvent(d.Event.MOVE,a),this._detect(this.gestureDetectors,a),this.gestureEvents.last=a)},_end:function(a){a=e({},this.gestureEvents.last,this._createDefaultEventData(d.Event.END,a)),a.pointers.length>0||(this._detect(this.gestureDetectors,a),this.unregisterBlockList.forEach(function(a){this.unregist(a)},this),this._resetDetecting(),h=!1)},_cancel:function(a){a=e({},this.gestureEvents.last,this._createDefaultEventData(d.Event.CANCEL,a)),this._detect(this.gestureDetectors,a),this.unregisterBlockList.forEach(function(a){this.unregist(a)},this),this._resetDetecting(),h=!1},_detect:function(a,b){var c=[];a.forEach(function(a){var e;this.detectorRequestedBlock||(e=a.detect(b),e&d.Result.RUNNING&&this.runningDetectors.indexOf(a)<0&&this.runningDetectors.push(a),e&d.Result.FINISHED&&c.push(a),e&d.Result.BLOCK&&(this.detectorRequestedBlock=a))},this),c.forEach(function(a){var b;b=this.gestureDetectors.indexOf(a),b>-1&&this.gestureDetectors.splice(b,1),b=this.runningDetectors.indexOf(a),b>-1&&this.runningDetectors.splice(b,1)},this),this.detectorRequestedBlock&&(this.runningDetectors.forEach(function(a){var c=e({},b,{eventType:d.Event.BLOCKED});a.detect(c)}),this.runningDetectors.length=0,this.gestureDetectors.length=0,c.indexOf(this.detectorRequestedBlock)<0&&this.gestureDetectors.push(this.detectorRequestedBlock))},_resetDetecting:function(){g=!1,b=null,this.gestureDetectors.length=0,this.runningDetectors.length=0,this.detectorRequestedBlock=null,this.gestureEvents=null,this.velocity=null,this._unbindEvents()},_createDefaultEventData:function(a,b){var c=b.touches?b.touches:"mouseup"===b.type?[]:b.identifier=1&&[b],d=c[0],e=(new Date).getTime();return{eventType:a,timeStamp:e,pointer:d,pointers:c,srcEvent:b,preventDefault:function(){this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()}}},_createGestureEvent:function(a,b){var c,f=this._createDefaultEventData(a,b),g=this.gestureEvents.start,h=this.gestureEvents.last,i=this.velocity.event,j={time:f.timeStamp-g.timeStamp,x:f.pointer.clientX-g.pointer.clientX,y:f.pointer.clientY-g.pointer.clientY},k={x:f.pointer.clientX-h.pointer.clientX,y:f.pointer.clientY-h.pointer.clientY},l=this.velocity,m=d.defaults.estimatedPointerTimeDifference;return g&&f.pointers.length!==g.pointers.length&&(g.pointers=[],[].forEach.call(f.pointers,function(a){g.pointers.push(e({},a))})),f.timeStamp-i.timeStamp>d.defaults.updateVelocityInterval&&(l=d.utils.getVelocity(f.timeStamp-i.timeStamp,f.pointer.clientX-i.pointer.clientX,f.pointer.clientY-i.pointer.clientY),e(this.velocity,l,{event:f})),c={x:Math.round(f.pointer.clientX+m*l.x*(k.x<0?-1:1)),y:Math.round(f.pointer.clientY+m*l.y*(k.y<0?-1:1))},(k.x<0&&c.x>h.estimatedX||k.x>0&&c.x<h.estimatedX)&&(c.x=h.estimatedX),(k.y<0&&c.y>h.estimatedY||k.y>0&&c.y<h.estimatedY)&&(c.y=h.estimatedY),e(f,{deltaTime:j.time,deltaX:j.x,deltaY:j.y,velocityX:l.x,velocityY:l.y,estimatedX:c.x,estimatedY:c.y,estimatedDeltaX:c.x-g.pointer.clientX,estimatedDeltaY:c.y-g.pointer.clientY,distance:d.utils.getDistance(g.pointer,f.pointer),angle:d.utils.getAngle(g.pointer,f.pointer),direction:d.utils.getDirection(g.pointer,f.pointer),scale:d.utils.getScale(g.pointers,f.pointers),rotation:d.utils.getRotation(g.pointers,f.pointers),startEvent:g,lastEvent:h}),f},register:function(a){var b=this.instances.indexOf(a);0>b&&(this.instances.push(a),this._bindStartEvents(a))},unregister:function(a){var b;return this.gestureDetectors.length?(this.unregisterBlockList.push(a),void 0):(b=this.instances.indexOf(a),b>-1&&(this.instances.splice(b,1),this._unbindStartEvents(a)),this.instances.length||this._destroy(),void 0)},_destroy:function(){this._resetDetecting(),this.instances.length=0,this.unregisterBlockList.length=0,h=!1,a=null}},{getInstance:function(){return a?a:a=new i}}}()}(d,a,a.document),function(a){var b=a.event.gesture,c=a.event.gesture.Detector,d=a.event.gesture.Manager,e=a.event,f=a.util.object.merge;b.Instance=function(a,c){this.element=a,this.eventDetectors=[],this.options=f({},b.defaults,c),this.gestureManager=null,this._init()},b.Instance.prototype={_init:function(){this.gestureManager=d.getInstance(),this.eventSender=f({},c.Sender,{sendEvent:this.trigger.bind(this)})},_findGestureDetector:function(a){var b,d,e=c.plugin;for(d in e)if(e.hasOwnProperty(d)&&(b=e[d],b.prototype.types.indexOf(a)>-1))return b},setOptions:function(a){return f(this.options,a),this},addDetector:function(a){var b=new c(a,this.eventSender),d=!!this.eventDetectors.length;return this.eventDetectors.push(b),this.eventDetectors.length&&!d&&this.gestureManager.register(this),this},removeDetector:function(a){var b=this.eventDetectors.indexOf(a);return b>-1&&this.eventDetectors.splice(b,1),this.eventDetectors.length||this.gestureManager.unregister(this),this},trigger:function(a,b){e.trigger(this.element,a,b,!1)},getElement:function(){return this.element},getGestureDetectors:function(){return this.eventDetectors},destroy:function(){this.element=null,this.eventHandlers={},this.gestureManager=null,this.eventSender=null,this.eventDetectors.length=0}}}(d,a),function(a,b){var c=a.event.gesture,d=a.event.gesture.Detector,e=a.util.object.merge,f=!!b.navigator.userAgent.match(/tizen/i);a.event.gesture.Drag=d.plugin.create({name:"drag",index:500,types:["drag","dragstart","dragend","dragcancel"],defaults:{blockHorizontal:!1,blockVertical:!1,threshold:10,angleThreshold:20,delay:0},triggerd:!1,handler:function(a,b,d){var g=a,h=d.threshold,i=d.angleThreshold,j=c.Result.PENDING,k={drag:this.types[0],start:this.types[1],end:this.types[2],cancel:this.types[3]},l=g.direction,m=Math.abs(g.angle);if(!this.triggerd&&g.eventType===c.Event.MOVE){if(Math.abs(g.deltaX)<h&&Math.abs(g.deltaY)<h)return f||g.preventDefault(),c.Result.PENDING;if(d.delay&&g.deltaTime<d.delay)return f||g.preventDefault(),c.Result.PENDING;if(d.blockHorizontal&&c.utils.isHorizontal(g.direction)||d.blockVertical&&c.utils.isVertical(g.direction))return c.Result.FINISHED;if(d.blockHorizontal&&(90-i>m||m>90+i))return c.Result.FINISHED;if(d.blockVertical&&m>0+i&&180-i>m)return c.Result.FINISHED;this.fixedStartPointX=0,this.fixedStartPointY=0,c.utils.isHorizontal(g.direction)?this.fixedStartPointX=(g.deltaX<0?1:-1)*h:this.fixedStartPointY=(g.deltaY<0?1:-1)*h}switch(d.blockHorizontal&&(l=g.deltaY<0?c.Direction.UP:c.Direction.DOWN),d.blockVertical&&(l=g.deltaX<0?c.Direction.LEFT:c.Direction.RIGHT),g=e({},g,{deltaX:g.deltaX+this.fixedStartPointX,deltaY:g.deltaY+this.fixedStartPointY,estimatedDeltaX:g.estimatedDeltaX+this.fixedStartPointX,estimatedDeltaY:g.estimatedDeltaY+this.fixedStartPointY,direction:l}),g.eventType){case c.Event.START:this.triggerd=!1;break;case c.Event.MOVE:j=c.Result.RUNNING,this.triggerd||b.sendEvent(k.start,g),b.sendEvent(k.drag,g),g.preventDefault(),this.triggerd=!0;break;case c.Event.BLOCKED:case c.Event.END:j=c.Result.FINISHED,this.triggerd&&(b.sendEvent(k.end,g),g.preventDefault(),this.triggerd=!1);break;case c.Event.CANCEL:j=c.Result.FINISHED,this.triggerd&&(b.sendEvent(k.cancel,g),g.preventDefault(),this.triggerd=!1)}return j}})}(d,a),function(a){var b=a.event.gesture,c=a.event.gesture.Detector;a.event.gesture.Swipe=c.plugin.create({name:"swipe",index:400,defaults:{timeThreshold:400,velocity:.6,orientation:b.Orientation.HORIZONTAL},handler:function(a,c,d){var e=a,f=b.Result.PENDING;return e.eventType!==b.Event.END?f:e.deltaTime>d.timeThreshold||d.orientation!==b.utils.getOrientation(e.direction)?f=b.Result.FINISHED:((e.velocityX>d.velocity||e.velocityY>d.velocity)&&(c.sendEvent(this.name,a),f=b.Result.FINISHED|b.Result.BLOCK),f)}})}(d,a),function(a){function b(a){var b;return d.forEach(function(c){c.element===a&&(b=c.instance)}),b}function c(a){d.forEach(function(b,c){b.element===a&&d.splice(c,1)})}var d=[],e=a.event.gesture||{};a.event.enableGesture=function(){var a=arguments[0],c=b(a),f=arguments.length,g=1;for(c||(c=new e.Instance(a),d.push({element:a,instance:c}));f>g;g++)c.addDetector(arguments[g])},a.event.disableGesture=function(){var a=arguments[0],d=b(a),e=arguments.length,f=1;d&&(e>1?d.removeDetector(arguments[f]):(d.destroy(),c(a)))},a.event.gesture=e}(d),function(a,b){function c(a){var b=this;g.on(a,"scroll",b,!1),g.on(b.element,"vclick",b,!1)}function d(a){var b=this;g.off(a,"scroll",b,!1),g.off(b.element,"vclick",b,!1)}var e=b.widget.BaseWidget,f=(b.widget.Marquee,b.engine),g=b.event,h=(b.event.gesture,b.util.object),i={EXPAND:"headerexpand",COLLAPSE:"headercollapse",COMPLETE:"headerexpandcomplete"},j=function(){var a=this;a._ui={},a._expanded=!1,a._basicText=null},k=500,l={ExpandableHeader:"ui-expandable-header",EXPAND:"ui-header-expand",BASIC:"ui-header-basic",TITLE:"ui-title"},m=new e;j.classes=l,j.events=i,m.handleEvent=function(a){var b=this;switch(a.type){case"scroll":b._onScroll(a);break;case"vclick":b._onClick(a)}},m._configure=function(){h.merge(this.options,{scrollElement:null})},m._build=function(a){return a.classList.contains(l.ExpandableHeader)||a.classList.add(l.ExpandableHeader),a},m._init=function(a){return this._initElements(a),a},m._initElements=function(a){var b,c,d=this,e=d._ui,f=d.options,h=a.offsetHeight;b=a.getElementsByClassName(l.TITLE)[0],c=f.scrollElement?"string"==typeof f.scrollElement?headerElement.querySelector(f.scrollElement):f.scrollElement:a.parentNode,a.classList.add(l.EXPAND),g.trigger(a,i.EXPAND),d._topOffset=a.offsetHeight-h,c.scrollTop=d._topOffset,e._titleElement=b,e._scrollElement=c},m._onClick=function(){var a=this,b=a.element,c=a._ui._scrollElement;b.classList.contains(l.EXPAND)&&(c.scrollTop=c.scrollTop-a._topOffset,b.classList.remove(l.EXPAND),b.classList.add(l.BASIC),g.trigger(b,i.COLLAPSE))},m._onScroll=function(a){var b=this,c=b.element,d=(b.options,b._ui),e=d._scrollElement;c.classList.contains(l.EXPAND)&&(0===e.scrollTop?g.trigger(c,i.COMPLETE):e.scrollTop>b._topOffset&&(e.scrollTop=e.scrollTop-b._topOffset,c.classList.remove(l.EXPAND),c.classList.add(l.BASIC),g.trigger(c,i.COLLAPSE))),clearTimeout(b._timer),b._timer=setTimeout(b._onScrollEnd.bind(b,a),k)},m._onScrollEnd=function(){var a=this,b=a._ui._scrollElement,c=a.element;0===b.scrollTop&&c.classList.contains(l.BASIC)&&(c.classList.add(l.EXPAND),c.classList.remove(l.BASIC),b.scrollTop=a._topOffset,g.trigger(c,i.EXPAND))},m._bindEvents=function(){var a=this;c.call(a,a._ui._scrollElement)},m._unbindEvents=function(){var a=this;d.call(a,a._ui._scrollElement)},m._refresh=function(){var a=this;a._initElements(a.element)},m._destroy=function(){this._unbindEvents()},j.prototype=m,b.widget.wearable.ExpandableHeader=j,f.defineWidget("ExpandableHeader","",[],j,"wearable")}(a.document,d),function(a,b){function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!1),d.send(),200===d.status||0===d.status?"function"==typeof b&&b(d,d.status):"function"==typeof c&&c(d,d.status,new Error(d.statusText))}function d(b,c,d){var e=a.createElement("script");e.type="text/javascript",e.text=c.responseText,a.body.appendChild(e),"function"==typeof b&&b(c,d)}function e(a,b,e){c(a,d.bind(null,b),e)}function f(b,c,d){var e=a.createElement("style");e.type="text/css",e.textContent=d.responseText.replace(r,"url("+b.replace(s,"images")),"function"==typeof c&&c(e)}function g(a,b,d){c(a,f.bind(null,a,b),d)}function h(a,b){var c;if(l){if(b&&(c=l.firstElementChild))return l.insertBefore(a,c),void 0;l.appendChild(a)}}function i(b){var c=a.createElement("link");return c.setAttribute("rel","stylesheet"),c.setAttribute("href",b),c.setAttribute("name","tizen-theme"),c}function j(a,b,c){p(a,"name","tizen-theme"),p(a,"theme-name",b),c?c.parentNode.replaceChild(a,c):h(a,!0)}function k(a,c,d){var e,f,h,k=m.length,l=null;for(e=0;k>e;e++)if(f=m[e].ownerNode,"tizen-theme"===o(f,"name")||f.getAttribute("href")===a){if(o(f,"theme-name")===c)return;l=f;break}d?g(a,function(a){j(a,c,l)},function(a,d){b.warn("There was a problem when loading '"+c+"', status: "+d)}):(h=i(a),j(h,c,l))}var l=a.head,m=a.styleSheets,n=b.util.DOM,o=n.getNSData,p=n.setNSData,q=b.util.load||{},r=/url\((\.\/)?images/gm,s=/[^/]+\.css$/;q.cacheBust=a.location.href.match(/debug=true/)?"?cacheBust="+(new Date).getTime():"",q.scriptSync=e,q.addElementToHead=h,q.makeLink=i,q.themeCSS=k,b.util.load=q}(a.document,d),function(a,b,c){var d=b.head,e=b.documentElement,f=c.frameworkData,g=c.util,h=g.DOM,i=g.load,j=c.support,k=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.type;("input"!==c||"text"!==d&&"email"!==d&&"url"!==d&&"search"!==d&&"tel"!==d)&&"textarea"!==c&&(a.stopPropagation(),a.preventDefault())},l="theme.js",m="tau",n=/ui-(bar|body|overlay)-([a-z])\b/,o=/.*width=(device-width|\d+)\s*,?.*$/gi;c.theme={theme:"s",_activeTheme:null,init:function(a){var b=this,c=a.classList;f.getParams(),j.gradeA()&&(e.classList.add("ui-mobile"),c.add("ui-mobile-viewport")),b.loadTheme(f.theme)},scaleBaseFontSize:function(a,c){var d=Math.max(a*c|0,4);e.style.fontSize=d+"px",b.body.style.fontSize=d+"px"},getInheritedTheme:function(a,b){var c,d,e,f=a.parentNode;if(c=h.getNSData(a,"theme"),!c)for(;f;){if(d=f.className||"",e=n.exec(d),d&&e&&e.length>2){c=e[2];break}f=f.parentNode}return c||b},enableSelection:function(a,c){var d,e;switch(c){case"text":case"auto":case"none":d=c;break;default:d="auto"}return a===b&&(a=b.body),e=a.style,e.MozUserSelect=e.webkitUserSelect=e.userSelect=d,a},disableContextMenu:function(a){a.addEventListener("contextmenu",k,!0)},enableContextMenu:function(a){a.removeEventListener("contextmenu",k,!0)},loadTheme:function(a){var b,c,d=this,e=f.themePath,g=m,h=f.minified;f.themeLoaded||("tau"!==f.frameworkName&&(g="tizen-web-ui-fw-theme"),b=h?e+"/"+g+".min.css":e+"/"+g+".css",i.themeCSS(b,a),c=e+"/"+l,i.scriptSync(c),j.gradeA()&&d.setScaling(),f.themeLoaded=!0)},setViewport:function(a){var c,e=b.querySelector("meta[name=viewport]");return e?(c=e.getAttribute("content"),a=c.replace(o,"$1")):(e=b.createElement("meta"),e.name="viewport",c="width="+a+", user-scalable=no",e.content=c,d.insertBefore(e,d.firstChild)),a},isMobileBrowser:function(){return a.navigator.appVersion.indexOf("Mobile")>-1},setScaling:function(){var d=this,e=f.viewportWidth,g=f.defaultFontSize,h=1;b.body.setAttribute("data-tizen-theme-default-font-size",g),c.theme.isMobileBrowser()&&(f.viewportScale===!0&&(e="screen-width"),"screen-width"===e&&(e=a.self===a.top?a.outerWidth:b.documentElement.clientWidth),e=d.setViewport(e),"device-width"!==e&&(h=parseFloat(e/c.frameworkData.defaultViewportWidth),d.scaleBaseFontSize(g,h)))
}},b.addEventListener("themeinit",function(a){var b=a.detail;b&&c.getConfig("autoInitializePage",!0)&&c.theme.init(b.getContainer())},!1)}(a,a.document,d),function(b,c){function d(a){a._isOpen&&a.close()}function e(a){a._refresh()}function f(a){a._refresh()}var g=c.widget.BaseWidget,h=c.util.selectors,i={WIDTH:240},j=function(){var a=this;a.options={position:"left",width:0,duration:100,closeOnClick:!0,overlay:!0},a._onOverlayClickBound=null,a._onResizeBound=null,a._onPageshowBound=null,a._pageSelector=null,a._isOpen=!1,a._ui={},a._drawerOverlay=null},k={page:"ui-page",drawer:"ui-drawer",header:"ui-drawer-header",left:"ui-drawer-left",right:"ui-drawer-right",overlay:"ui-drawer-overlay",open:"ui-drawer-open",close:"ui-drawer-close"},l=new g;j.prototype=l,j.classes=k,l._setOverlay=function(b){var c=this,d=c.options,e=c._drawerOverlay,f=e.style,g=Math.abs(b),h="right"===d.position?g/a.innerWidth:g/d.width;f.visibility=1>h?"visible":"hidden",f.opacity=1-h},l._translate=function(a,b){var c=this,d=c.element.style,e="none";b&&(e="-webkit-transform "+b/1e3+"s ease-out"),d.webkitTransform="translate3d("+a+"px, 0px, 0px)",d.webkitTransition=e,c.options.overlay&&c._setOverlay(a)},l._build=function(a){var b,c=this;for(a.classList.add(k.drawer),c._drawerPage=h.getClosestByClass(a,k.page),c._drawerPage.style.overflowX="hidden",b=a.nextElementSibling;b&&!b.classList.contains("ui-header");)b=b.nextElementSibling;return b&&b.classList.add(k.header),c._headerElement=b,c.options.overlay&&(c._createOverlay(a),c._drawerOverlay.style.visibility="hidden"),a},l._init=function(b){var c=this,d=c.options;d.width=d.width||i.WIDTH,"right"===d.position?(b.classList.add(k.right),c._translate(a.innerWidth,0)):(b.classList.add(k.left),c._translate(-d.width,0))},l._translateRight=function(){var b=this,c=b.options;"right"===c.position&&(b._isOpen?b._translate(a.innerWidth-c.width,0):b._translate(a.innerWidth,0))},l._refresh=function(){var b=this,c=b.options,d=b.element.parentNode,e=d.clientHeight,f=b.element.style,g=b._drawerOverlay,h=g&&g.style;f.width=c.width+"px",f.height=e+"px",h&&(h.width=a.innerWidth+"px",h.height=e+"px"),b._translateRight()},l._createOverlay=function(a){var c=this,d=b.createElement("div");d.classList.add(k.overlay),a.parentNode.insertBefore(d,a),c._drawerOverlay=d},l._bindEvents=function(){var b=this,c=b.options,g=b._drawerOverlay;b._onClickBound=d.bind(null,b),b._onResizeBound=e.bind(null,b),b._onPageshowBound=f.bind(null,b),c.overlay&&c.closeOnClick&&g&&g.addEventListener("vclick",b._onClickBound,!1),a.addEventListener("resize",b._onResizeBound,!1),b._drawerPage.addEventListener("pageshow",b._onPageshowBound,!1)},l.isOpen=function(){return this._isOpen},l.open=function(){var b=this,c=b.options,d=b.element.classList,e=b._drawerOverlay;e&&(e.style.visibility="visible"),d.remove(k.close),d.add(k.open),"left"===c.position?b._translate(0,c.duration):b._translate(a.innerWidth-c.width,c.duration),b._isOpen=!0},l.close=function(){var b=this,c=b.options,d=b.element.classList;b._isOpen=!1,d.remove(k.open),d.add(k.close),"left"===c.position?b._translate(-c.width,c.duration):b._translate(a.innerWidth,c.duration)},l._destroy=function(){var b=this,c=b._drawerOverlay;c&&c.removeEventListener("vclick",b._onClickBound,!1),a.removeEventListener("resize",b._onResizeBound,!1),b._drawerPage.removeEventListener("pageshow",b._onPageshowBound,!1)},c.widget.core.Drawer=j}(a.document,d),function(a){a.router=a.router||{}}(d),function(a,b){var c,d=b.util.object,e=0,f=0,g=a.history,h={activeState:null,replace:function(a,b,i){var j=d.merge({},a,{uid:c?f:++e,stateUrl:i,stateTitle:b});g[c?"replaceState":"pushState"](j,b,i),h.setActive(j)},back:function(){g.back()},setActive:function(a){return a&&(h.activeState=a,f=a.uid,a.volatileRecord)?(h.enableVolatileRecord(),void 0):(h.disableVolatileMode(),void 0)},getDirection:function(a){return a?a.uid<f?"back":"forward":"back"},enableVolatileRecord:function(){c=!0},disableVolatileMode:function(){c=!1}};b.router.history=h}(a,d),function(b,c){var d=c.widget.BaseWidget,e=c.util,f=e.DOM,g=c.engine,h=function(){var a=this;a.contentFillAfterResizeCallback=null,a.options={}},i={SHOW:"pageshow",HIDE:"pagehide",CREATE:"pagecreate",BEFORE_CREATE:"pagebeforecreate",BEFORE_SHOW:"pagebeforeshow",BEFORE_HIDE:"pagebeforehide"},j={uiPage:"ui-page",uiPageActive:"ui-page-active",uiSection:"ui-section",uiHeader:"ui-header",uiFooter:"ui-footer",uiContent:"ui-content",uiPageScroll:"ui-scroll-on",uiFixed:"ui-fixed"},k=new d;h.classes=j,h.events=i,k._configure=function(){this.options.enablePageScroll=c.getConfig("enablePageScroll")},k._contentFill=function(){var b,c,d,e,g,h,i=this,k=i.options,l=i.element,m=a.innerWidth,n=a.innerHeight,o=j.uiContent,p=j.uiHeader,q=j.uiFooter,r=j.uiPageScroll,s=0,t=0,u=0,v=[].slice.call(l.children),w=v.length,x=l.style,y=!1,z=!1;for(x.width=m+"px",x.height=n+"px",k.enablePageScroll===!0&&l.classList.add(r),b=0;w>b;b++)c=v[b],c.classList.contains(p)?(s=f.getElementHeight(c),c.classList.contains(j.uiFixed)&&(y=!0)):c.classList.contains(q)&&(h=a.getComputedStyle(c),u=parseFloat(h.marginTop),t+=f.getElementHeight(c),c.classList.contains(j.uiFixed)&&(z=!0));for(b=0;w>b;b++)c=v[b],c.classList.contains(o)&&(h=c.style,d=a.getComputedStyle(c),e=parseFloat(d.marginTop),g=parseFloat(d.marginBottom),l.classList.contains(r)?h.minHeight=n-s-t-e-g-u+"px":(h.height=n-s-t-e-g-u+"px",h.width=m+"px"),y&&(h.marginTop=s+"px"),z&&(h.marginBottom=t+"px"))},k._build=function(a){return a.classList.add(j.uiPage),a},k.setActive=function(a){var b=this.element.classList;a?b.add(j.uiPageActive):b.remove(j.uiPageActive)},k.isActive=function(){return this.element.classList.contains(j.uiPageActive)},k._bindEvents=function(){var b=this;b.contentFillAfterResizeCallback=b._contentFill.bind(b),a.addEventListener("resize",b.contentFillAfterResizeCallback,!1)},k._refresh=function(){this._contentFill()},k.layout=function(){this._contentFill()},k.onBeforeShow=function(){this.trigger(i.BEFORE_SHOW)},k.onShow=function(){this.trigger(i.SHOW)},k.onBeforeHide=function(){this.trigger(i.BEFORE_HIDE)},k.onHide=function(){this.trigger(i.HIDE)},k._destroy=function(){var b=this,c=b.element;c=c||b.element,a.removeEventListener("resize",b.contentFillAfterResizeCallback,!1),g.destroyAllWidgets(c,!0)},h.prototype=k,c.widget.wearable.Page=h,g.defineWidget("page","[data-role=page],.ui-page",["onBeforeShow","onShow","onBeforeHide","onHide","setActive","layout"],h,"wearable")}(a.document,d),function(a,b){function c(a){var c=this;b.event.disableGesture(a),k.off(a,"drag dragstart dragend dragcancel swipe transitionEnd webkitTransitionEnd",c,!1),k.off(c.element,"transitionEnd webkitTransitionEnd",c,!1)}function d(a){var c=this;c._eventBoundElement=a,b.event.enableGesture(a,new b.event.gesture.Drag,new b.event.gesture.Swipe({orientation:l.Orientation.HORIZONTAL})),k.on(a,"drag dragstart dragend dragcancel swipe transitionEnd webkitTransitionEnd",c,!1),k.on(c.element,"transitionEnd webkitTransitionEnd",c,!1)}var e=b.widget.core.Drawer,f=e.prototype,g=b.widget.wearable.Page,h=b.engine,i=(b.util.DOM,b.util.object),j=b.util.selectors,k=b.event,l=b.event.gesture,m=b.router.history,n=e.classes,o={CLOSED:"closed",OPENED:"opened",SLIDING:"sliding",SETTLING:"settling"},p={OPEN:"draweropen",CLOSE:"drawerclose"},q=function(){var a=this;e.call(a),a._isDrag=!1,a._state=o.CLOSED,a._settlingType=o.CLOSED,a._traslatedX=0},r=new e;q.prototype=r,q.classes=n,r.handleEvent=function(a){var b=this;switch(a.type){case"drag":b._onDrag(a);break;case"dragstart":b._onDragStart(a);break;case"dragend":b._onDragEnd(a);break;case"dragcancel":b._onDragCancel(a);break;case"swipe":b._onSwipe(a);break;case"transitionEnd":case"webkitTransitionEnd":b._onTransitionEnd(a)}},r._configure=function(){var a=this;i.merge(a.options,{duration:300,drawerTarget:"."+g.classes.uiPage,position:"left",enable:!0,dragEdge:1})},r._init=function(a){return this._initLayout(),a},r._initLayout=function(){var b=this,c=b.options,d=b.element,e=b._ui,h=a.createComment(d.id+"-placeholder");e._pageElement=j.getClosestByClass(d,g.classes.uiPage),e._targetElement=j.getClosestBySelector(d,c.drawerTarget),e._targetElement.appendChild(d),e._placeholder||(e._placeholder=h,d.parentNode.insertBefore(h,d)),c.width=c.width||d.offsetWidth,e._targetElement.style.overflowX="hidden",f._init.call(b,d)},r._onSwipe=function(a){var b=this,c="left"===a.detail.direction?"right":"left",d=b.options;d.enable&&d.position===c&&b.open()},r._onDragStart=function(a){var b=this;b._state!==o.OPENED&&(b.options.enable&&!b._isDrag&&b._state!==o.SETTLING&&b._checkSideEdge(a)?b._isDrag=!0:b.close())},r._onDrag=function(a){var b,c=this,d=a.detail.deltaX,e=c.options,f=c._traslatedX;e.enable&&c._isDrag&&c._state!==o.SETTLING&&("left"===e.position?(b=-e.width+d+f,0>b&&c._translate(b,0)):(b=e.width+d-f,b>0&&c._translate(b,0)))},r._onDragEnd=function(a){var b=this,c=b.options,d=a.detail;c.enable&&b._isDrag&&(Math.abs(d.deltaX)>c.width/2?b.open():b._state!==o.SETTLING&&b.close()),b._isDrag=!1},r._onDragCancel=function(){var a=this;a.options.enable&&a._isDrag&&a.close(),a._isDrag=!1},r._onTransitionEnd=function(){var a=this,b=(a.element,a.options.position);a._state===o.SETTLING&&(a._settlingType===o.OPENED?(a.trigger(p.OPEN,{position:b}),a._setActive(!0),a._state=o.OPENED):(a.trigger(p.CLOSE,{position:b}),a._setActive(!1),a._state=o.CLOSED))},r._checkSideEdge=function(a){var b=this,c=a.detail,d=c.pointer.clientX-c.estimatedDeltaX,e=b.options,f=e.position,g=b._eventBoundElement,h=g.offsetWidth,i=g.offsetLeft+h,j=h*e.dragEdge;return"left"===f&&d>0&&j>d||"right"===f&&d>i-j&&i>d?!0:!1},r._bindEvents=function(){var a=this,b=a._ui._targetElement;f._bindEvents.call(a),d.call(a,b)},r._enable=function(){this._oneOption("enable",!0)},r._disable=function(){this._oneOption("enable",!1)},r._destroy=function(){var a=this,b=a.element,d=a._ui._placeholder,e=d.parentNode;e.insertBefore(b,d),e.removeChild(d),f._destroy.call(a),c.call(a,a._eventBoundElement)},r._translate=function(a,b){var c=this;c._state!==o.SETTLING&&(c._state=o.SLIDING),f._translate.call(c,a,b)},r._setActive=function(a){var b=this,c=h.getRouter().getRoute("drawer");a?c.setActive(b):c.setActive(null)},r.setDragHandler=function(a){var b=this;b.options.dragEdge=1,c.call(b,b._eventBoundElement),d.call(b,a)},r.transition=function(a){var b=this,c=b.options;"left"===c.position?b._translate(-c.width+a,c.duration):b._translate(c.width-a,c.duration),b._traslatedX=a},r.open=function(){var a=this;a._state!==o.OPENED&&(a._state=o.SETTLING,a._settlingType=o.OPENED,f.open.call(a))},r.close=function(a){var b=this,c=a?a.reverse:!1;if(b._state!==o.CLOSED){if(!c&&b._state===o.OPENED)return m.back(),void 0;b._state=o.SETTLING,b._settlingType=o.CLOSED,f.close.call(b)}},r._refresh=function(){var a=this;f._refresh.call(a),a._initLayout()},r.getState=function(){return this._state},b.widget.wearable.Drawer=q,h.defineWidget("Drawer",".ui-drawer",["transition","setDragHandler","open","close","getState"],q,"wearable")}(a.document,d),function(a,b){function c(a,b){var c,d=b/a._maxValue*100,e=a._ui;d>=50?e.progressValue.classList.add(o.uiProgressbarHalf):e.progressValue.classList.remove(o.uiProgressbarHalf),c=360*(d/100),e.progressValueLeft.style.webkitTransform="rotate("+c+"deg)"}function d(a,b){var c=a._ui;c.progressValueLeft.style.borderWidth=b+"px",c.progressValueRight.style.borderWidth=b+"px",c.progressValueBg.style.borderWidth=b+"px"}function e(a,b){var c=parseFloat(b),d=a._ui;if(isNaN(c)){switch(b){case q.FULL:case q.LARGE:case q.MEDIUM:case q.SMALL:d.progressContainer.classList.add(n+"-"+b)}d.progressContainer.style.fontSize=j.getCSSProperty(d.progressContainer,"width",0,"float")+"px"}else d.progressContainer.style.fontSize=b+"px",d.progressContainer.style.width=b+"px",d.progressContainer.style.height=b+"px"}function f(a,b){b.thickness&&d(a,b.thickness),b.size&&e(a,b.size),b.containerClassName&&a._ui.progressContainer.classList.add(b.containerClassName)}var g=b.widget.BaseWidget,h=b.engine,i=b.event,j=b.util.DOM,k={CHANGE:"progresschange"},l=function(){var a=this,b={};b.progressContainer=null,b.progressValue=null,b.progressValueLeft=null,b.progressValueRight=null,b.progressValueBg=null,a.options={},a._ui=b,a._maxValue=null,a._value=null},m=new g,n="ui-progressbar",o={uiProgressbar:n,uiProgressbarBg:n+"-bg",uiProgressbarValue:n+"-value",uiProgressbarValueLeft:n+"-value-left",uiProgressbarValueRight:n+"-value-right",uiProgressbarHalf:n+"-half"},p={progressContainer:"."+o.uiProgressbar,progressBg:"."+o.uiProgressbarBg,progressValue:"."+o.uiProgressbarValue,progressValueLeft:"."+o.uiProgressbarValueLeft,progressValueRight:"."+o.uiProgressbarValueRight},q={FULL:"full",LARGE:"large",MEDIUM:"medium",SMALL:"small"};l.classes=o,m._configure=function(){this.options={thickness:null,size:q.MEDIUM,containerClassName:null}},m._build=function(b){var c,d,e,f,g,h=this,i=h._ui,j=b;return i.progressContainer=c=a.createElement("div"),i.progressValueBg=d=a.createElement("div"),i.progressValue=e=a.createElement("div"),i.progressValueLeft=f=a.createElement("div"),i.progressValueRight=g=a.createElement("div"),c.className=o.uiProgressbar,d.className=o.uiProgressbarBg,e.className=o.uiProgressbarValue,f.className=o.uiProgressbarValueLeft,g.className=o.uiProgressbarValueRight,c.id=j.id?j.id+"-container":"",e.appendChild(f),e.appendChild(g),c.appendChild(e),c.appendChild(d),j.parentNode.appendChild(c),j.parentNode.insertBefore(j,c),b},m._init=function(a){var d=this,e=d._ui,g=a,h=a.parentNode,i=d.options;return e.progressContainer=e.progressContainer||h.querySelector(p.progressContainer),e.progressValueBg=e.progressValueBg||h.querySelector(p.progressValueBg),e.progressValue=e.progressValue||h.querySelector(p.progressValue),e.progressValueLeft=e.progressValueLeft||h.querySelector(p.progressValueLeft),e.progressValueRight=e.progressValueRight||h.querySelector(p.progressValueRight),d._maxValue=j.getNumberFromAttribute(g,"max",null,100),d._maxValue<=0&&(b.error("max value of progress must be positive number that bigger than zero!"),d._maxValue=100),d._value=j.getNumberFromAttribute(g,"value",null,50),f(d,i),c(d,d._value),a},m._getValue=function(){return this.element.getAttribute("value")},m._setValue=function(a){var b,d=this;b=a>d._maxValue?d._maxValue:0>a?0:isNaN(a)?0:a,j.setAttribute(d.element,"value",b),d._value!==b&&(d._value=b,i.trigger(d.element,k.CHANGE),c(d,b))},m._refresh=function(){var a=this;return a._reset(),f(a,a.options),c(a,a._getValue()),null},m._reset=function(){var a=this,b=a._ui;b.progressValue.classList.remove(o.uiProgressbarHalf),b.progressValueLeft.style.webkitTransform="",a.options.thickness&&(b.progressValueLeft.style.borderWidth="",b.progressValueRight.style.borderWidth="",b.progressValueBg.style.borderWidth="")},m._destroy=function(){var a=this;return a._reset(),a.element.parentNode.removeChild(a._ui.progressContainer),a.element=null,a._ui=null,a._maxValue=null,a._value=null,null},l.prototype=m,b.widget.wearable.CircleProgressBar=l,h.defineWidget("CircleProgressBar",".ui-circle-progress",[],l,"wearable")}(a.document,d),function(a,b){var c=b.widget.BaseWidget,d=b.engine,e=function(){},f=new c;e.events={},f._build=function(a){return a},f._init=function(a){return a},f._bindEvents=function(a){return a},f._refresh=function(){return null},f._destroy=function(){return null},e.prototype=f,b.widget.wearable.Listview=e,d.defineWidget("Listview",".ui-listview",[],e,"wearable")}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=(c.widget.wearable.Page,c.util),f=c.event,g=e.DOM,h=c.engine,i={uiViewportTransitioning:"ui-viewport-transitioning",out:"out","in":"in",uiPreIn:"ui-pre-in",uiBuild:"ui-page-build"},j=function(){this.activePage=null},k={PAGE_CHANGE:"pagechange"},l="animationend",m="webkitAnimationEnd",n=new d;j.events=k,j.classes=i,n.change=function(a,b){var d,e=this,f=e.getActivePage();b=b||{},f&&f.element===a||(a.parentNode!==e.element&&(a=e._include(a)),a.classList.add(i.uiBuild),d=h.instanceWidget(a,"page"),d.layout(),c.getConfig("autoBuildOnPageChange",!1)&&h.createWidgets(a),f&&f.onBeforeHide(),d.onBeforeShow(),a.classList.remove(i.uiBuild),b.deferred={resolve:function(){f&&(f.onHide(),e._removeExternalPage(f,b)),d.onShow(),e.trigger(k.PAGE_CHANGE)}},e._transition(d,f,b))},n._transition=function(b,c,d){var e,g,h,j,k=this,n=k.element,o=n.classList,p=c&&d.transition?d.transition:"none",q=d.deferred,r="reverse",s=[i.in,i.out,i.uiPreIn,p];d.reverse&&s.push(r),o.add(i.uiViewportTransitioning),e=q.resolve,q.resolve=function(){var a=c&&c.element.classList,d=b.element.classList;o.remove(i.uiViewportTransitioning),d.remove.apply(d,s),a&&a.remove.apply(a,s),k._setActivePage(b),e()},"none"!==p?(j=function(){f.off(b.element,[l,m],j,!1),q.resolve()},f.one(b.element,[l,m],j,!1),c&&(h=[],h.push(p,i.out),d.reverse&&h.push(r),g=c.element.classList,g.add.apply(g,h)),g=b.element.classList,h=[],h.push(p,i.in,i.uiPreIn),d.reverse&&h.push(r),g.add.apply(g,h)):a.setTimeout(q.resolve,0)},n._include=function(a){var b=this.element;return a.parentNode!==b&&(a=e.importEvaluateAndAppendElement(a,b)),a},n._setActivePage=function(a){var b=this;b.activePage&&b.activePage.setActive(!1),b.activePage=a,a.setActive(!0)},n.getActivePage=function(){return this.activePage},n.showLoading=function(){return null},n.hideLoading=function(){return null},n._removeExternalPage=function(a,b){var c=a.element;b=b||{},b.reverse&&g.hasNSData(c,"external")&&(a.destroy(),c.parentNode&&c.parentNode.removeChild(c))},j.prototype=n,c.widget.wearable.PageContainer=j,h.defineWidget("pagecontainer","",["change","getActivePage","showLoading","hideLoading"],j,"wearable")}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=c.engine,f=c.event,g=f.trigger,h=f.gesture,i=3,j="-indicator",k=new d,l=function(){this.element=null,this._indexBar=null,this._centralAngle=0,this._activeIndexNo=0,this._isShow=!1,this._indexObjects=[],this._indicator={element:null,style:null,startX:0,positionX:0,maxPositionX:0,minPositionX:0,dragging:!1}},m={CW:"CW",CCW:"CCW"},n={SELECT:"select",INDEX_SHOW:"indexshow",INDEX_HIDE:"indexhide"},o={INDEXSCROLLBAR:"ui-circularindexscrollbar",INDEXBAR:"ui-circularindexscrollbar-indexbar",INDICATOR:"ui-circularindexscrollbar-indicator",INDICATOR_TEXT:"ui-circularindexscrollbar-indicator-text",INDICATOR_MINIMIZE:"ui-circularindexscrollbar-indicator-minimize",INDEX:"ui-circularindexscrollbar-index",SHOW:"ui-circularindexscrollbar-show",SELECTED:"ui-state-selected"};l.prototype=k,k._configure=function(){this.options={moreChar:".",delimiter:",",index:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1"],maxVisibleIndex:30,duration:500}},k._init=function(a){var b=this,c=b.options;return a.classList.add(o.INDEXSCROLLBAR),b._setIndices(c.index),b._draw(),b._setValueByPosition(b._activeIndexNo,!0),a},k._setIndices=function(a){var b=this,d=b.options,e=d.maxVisibleIndex;return null===a?(c.warn("CircularIndexScrollbar must have indices."),d.index=null,void 0):("string"==typeof a&&(a=a.split(d.delimiter)),i>e&&(c.warn("CircularIndexScrollbar is required at least 3 maxVisibleIndex, otherwise it may not work."),b.options.maxVisibleIndex=i),a.length<i&&c.warn("CircularIndexScrollbar is required at least 3 indices, otherwise it may not work."),b._centralAngle=360/(a.length>e?e:a.length),d.index=a,void 0)},k._draw=function(){var c,d=this,e=d.options,f=d.element,g=b.createElement("div"),h=b.createElement("a"),i=b.createElement("div"),k=a.innerWidth;e.index&&(e.index.length<e.maxVisibleIndex?d._drawBasicIndices(g):d._drawOmitIndices(g)),g.classList.add(o.INDEXBAR),h.classList.add(o.INDICATOR),h.classList.add(o.INDICATOR_MINIMIZE),i.classList.add(o.INDICATOR_TEXT),h.id=f.id+j,h.href="#"+f.id,h.setAttribute("data-rel",d.name.toLowerCase()),d._indicator.style=h.style,d._indicator.element=h,d._indexBar=g,f.appendChild(g),h.appendChild(i),f.appendChild(h),c=h.clientWidth,d._indicator.maxPositionX=k/2-c/2,d._indicator.minPositionX=.75*-c},k._drawBasicIndices=function(a){var c,d,e=this,f=e.options;for(d=0;d<f.index.length;d++)c=b.createElement("div"),e._setChildStyle(c,d,f.index[d]),a.appendChild(c),e._indexObjects.push({index:f.index[d],container:c})},k._drawOmitIndices=function(a){var c,d,e=this,f=e.options,g=f.index,h=g.length,i=f.maxVisibleIndex,j=h-parseInt((i+1)/2,10),k=parseInt(j/parseInt(i/2,10),10),l=j%parseInt(i/2,10),m=0,n=0;for(d=0;i>d;d++){if(c=b.createElement("div"),d%2)for(n=k+(l-->0?1:0),e._setChildStyle(c,d,f.moreChar);n-->0;)e._indexObjects.push({index:g[m++],container:c});else e._setChildStyle(c,d,g[m]),e._indexObjects.push({index:g[m++],container:c});a.appendChild(c)}},k._setChildStyle=function(a,c,d){var e,f,g=this,h=b.createElement("span"),i=g._centralAngle,j=90-i;e=c*i+90-i/2,f="rotate("+e+"deg) skew("+j+"deg)",a.classList.add(o.INDEX),a.style.webkitTransform=f,a.style.transform=f,f="skew("+-j+"deg) rotate("+(i/2-90)+"deg)",h.innerText=d,h.style.webkitTransform=f,h.style.transform=f,a.appendChild(h)},k.show=function(){var a,b,c=this,d=c.options,e=c._indicator,f=e.style;(!c._isShow||e.dragging)&&(a="-webkit-transform "+d.duration+"ms ease-out",b="translate3d("+e.maxPositionX+"px, 0, 0)",c._isShow=!0,c.element.classList.add(o.SHOW),f.webkitTransition=a,f.transition=a,f.webkitTransform=b,f.transform=b)},k.hide=function(a){var b,c,d=this,e=d.options,f=d._indicator,g=f.style,h=a?a.reverse:!1;if(d._isShow||f.dragging){if(!h&&d._isShow)return history.back(),void 0;b="-webkit-transform "+e.duration+"ms ease-out",c="translate3d("+f.minPositionX+"px, 0, 0)",d.element.classList.remove(o.SHOW),g.webkitTransition=b,g.transition=b,g.webkitTransform=c,g.transform=c,d._isShow=!1}},k.isShow=function(){return this._isShow},k.showHandler=function(){var a,b,c=this,d=c._indicator.style;c._isShow||(a="-webkit-transform "+c.options.duration/5+"ms ease-out",b="translate3d("+c._indicator.minPositionX+"px, 0, 0)",d.transition=a,d.webkitTransition=a,d.transform=b,d.webkitTransform=b)},k.hideHandler=function(){var a,b,d=this,e=d._indicator.style;return d._isShow?(c.warn("hideHandler() can be used only when CircularIndexSCrollbar is hidden."),void 0):(a="-webkit-transform "+d.options.duration/5+"ms ease-out",b="translate3d("+-d._indicator.element.clientWidth+"px, 0, 0)",e.transition=a,e.webkitTransition=a,e.transform=b,e.webkitTransform=b,void 0)},k._setValueByPosition=function(a,b){var c,d,e,f=this;f.options.index&&(c=f._indexObjects[f._activeIndexNo].container,d=f._indexObjects[a].container,e=f._indicator.element.firstChild,d&&(f._activeIndexNo=a,c.classList.remove(o.SELECTED),d.classList.add(o.SELECTED),e.innerHTML=f.options.index[a],b&&g(f.element,n.SELECT,{index:f.options.index[a]})))},k._nextIndex=function(){var a=this,b=a._activeIndexNo,c=a.options.index.length,d=c-1>b?b+1:0;a._setValueByPosition(d,!0)},k._prevIndex=function(){var a=this,b=a._activeIndexNo,c=a.options.index.length,d=b>0?b-1:c-1;a._setValueByPosition(d,!0)},k._setValue=function(a){var b,c=this,d=c.options.index;d&&(b=d.indexOf(a))>=0&&c._setValueByPosition(b,!1)},k._getValue=function(){var a=this,b=a.options.index;return b?b[a._activeIndexNo]:null},k._start=function(a){var b=this,c=b._indicator;c.dragging=!0,c.startX=a.detail.estimatedX,c.positionX=c.element.getBoundingClientRect().left,c.style.webkitTransition="none",c.style.transition="none",c.element.classList.remove(o.INDICATOR_MINIMIZE)},k._move=function(a){var b,c=this,d=c._indicator,e=d.maxPositionX,f=d.minPositionX,g=d.positionX+(a.detail.estimatedX-d.startX);g>=f&&e>=g?(b="translate3d("+g+"px, 0, 0)",d.style.webkitTransform=b,d.style.transform=b):g>e&&!c._isShow?c.show():f>g&&c._isShow&&c.hide()},k._end=function(){var a=this,b=a._indicator,c=b.element.getBoundingClientRect().left;b.dragging&&(c>(b.maxPositionX+b.minPositionX)/2?a.show():a.hide(),b.dragging=!1)},k._swipe=function(a){var b=this,c=a.detail;c.direction===h.Direction.RIGHT?(b._indicator.element.classList.remove(o.INDICATOR_MINIMIZE),b.show()):b.hide(),b._indicator.dragging=!1},k._wheel=function(a){var b=this,c=a.wheelDelta;b.options.index&&c&&(0>c?b._nextIndex():b._prevIndex())},k._transitionEnd=function(){var a=this;a._isShow?(f.on(b,"rotarydetent",a),a._setActive(!0),g(a.element,n.INDEX_SHOW)):(f.off(b,"rotarydetent",a),a._setActive(!1),g(a.element,n.INDEX_HIDE))},k._indicatorTransitionEnd=function(){var a=this;a._isShow||a._indicator.element.classList.add(o.INDICATOR_MINIMIZE)},k._rotary=function(a){var b=this,c=a.detail.direction;a.stopPropagation(),b.options.index&&(c===m.CW?b._nextIndex():b._prevIndex())},k.handleEvent=function(a){var b=this;switch(a.type){case"dragstart":b._start(a);break;case"drag":b._move(a);break;case"dragend":case"dragcancel":b._end(a);break;case"swipe":b._swipe(a);break;case"mousewheel":b._wheel(a);break;case"webkitTransitionEnd":b._indexBar===a.target?b._transitionEnd(a):b._indicatorTransitionEnd(a);break;case"rotarydetent":b._rotary(a)}},k._bindEvents=function(){var a=this,b=a._indicator.element;f.enableGesture(b,new f.gesture.Drag({blockVertical:!0}),new f.gesture.Swipe({orientation:h.Orientation.HORIZONTAL})),f.on(b,"drag dragstart dragend dragcancel swipe webkitTransitionEnd",a),f.on(a.element,"mousewheel",a),f.on(a._indexBar,"webkitTransitionEnd",a)},k._unbindEvents=function(){var a=this,c=a._indicator.element,d=a._indexBar;a.element&&f.off(a.element,"mousewheel",a),c&&(f.disableGesture(c),f.off(c,"drag dragstart dragend dragcancel swipe",a)),d&&f.off(d,"webkitTransitionEnd",a),f.off(b,"rotarydetent",a)},k._setActive=function(a){var b=this,c=e.getRouter().getRoute("circularindexscrollbar");a?c.setActive(b):c.setActive(null)},k._reset=function(){var a=this;a._indexBar=null,a._isShow=!1,a._activeIndexNo=0,a._centralAngle=0,a._indexObjects=[],a._indicator={element:null,style:null,startX:0,positionX:0,maxPositionX:0,minPositionX:0,dragging:!1},a.element.classList.remove(o.SHOW)},k._refresh=function(){var a=this,b=a.options;a._unbindEvents(),a._destroySubObjects(),a._reset(),a._setIndices(b.index),a._draw(),a._setValueByPosition(a._activeIndexNo,!0),a._bindEvents()},k._destroy=function(){var a=this;a.isBound()&&(a._unbindEvents(),a._destroySubObjects(),a._indexBar=null,a._indicator=null,a._indexObjects=null)},k._destroySubObjects=function(){var a=this.element;a.textContent=""},c.widget.wearable.CircularIndexScrollbar=l,e.defineWidget("CircularIndexScrollbar",".ui-circularindexscrollbar",[],l,"wearable")}(a.document,d),function(a,b,c){function d(a,b,c,d){var e,f,g,h;for(e=0,f=d.length;f>e;++e)h=d[e],(isNaN(c[h])===!1||isNaN(a[h])===!1)&&(g=Object.getOwnPropertyDescriptor(b,h),(!g||g.writable)&&(b[h]=c[h]||a[h]))}function e(a,b,c){var e,f,g,h,i=new CustomEvent(a,{bubbles:b.bubbles,cancelable:b.cancelable,detail:b.detail}),j=b.type,k=0;if(d(b,i,c,x),i._originalEvent=b,-1!==j.indexOf("touch")&&(j=b.touches,e=b.changedTouches,f=j&&j.length?j[0]:e&&e.length?e[0]:null))for(g=C.length;g>k;k++)h=C[k],i[h]=f[h];return i}function f(a,b,c){return b.target.dispatchEvent(e(a,b,c||{}))}function g(a){f("vmousedown",a)}function h(a){var b=a.clientX,c=a.clientY;return b||c?void 0:t(a)}function i(a){f("vclick",a,h(a))}function j(a){f("vmouseup",a)}function k(a){f("vmousemove",a)}function l(a){f("vmouseover",a)}function m(a){f("vmouseout",a)}function n(a){var b,c=a.touches;c&&1===c.length&&(y=!1,b=c[0],A=b.pageX,B=b.pageY,f("vmouseover",a),f("vmousedown",a))}function o(a){var b=a.touches;b&&0===b.length&&(f("vmouseup",a),f("vmouseout",a))}function p(a){var c,d=a.touches&&a.touches[0],e=y,g=w.eventDistanceThreshold;return d.identifier>0?(a.preventDefault(),a.stopPropagation(),void 0):(y=y||Math.abs(d.pageX-A)>g||Math.abs(d.pageY-B)>g,c=b.elementFromPoint(a.pageX,a.pageY),c&&f("_touchover",a),y&&!e&&f("vmousecancel",a),f("vmousemove",a),void 0)}function q(a){y||f("vmousecancel",a),y=!0}function r(a){f("vmousecancel",a)}function s(){return!1}function t(a){var b=a.target&&a.target.getBoundingClientRect(),c={};return b&&(c={clientX:b.left+b.width/2,clientY:b.top+b.height/2,which:1}),c}function u(a){var b;a.keyCode===D.enter&&(b=t(a),f("vmouseup",a,b),f("vclick",a,b))}function v(a){a.keyCode===D.enter&&f("vmousedown",a,t(a))}var w,x,y,z=a.hasOwnProperty("ontouchstart"),A=0,B=0,C=["clientX","clientY","pageX","pageY","screenX","screenY"],D={enter:13};x=["currentTarget","detail","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","which"],w={eventDistanceThreshold:10,touchSupport:z},w.bindTouch=function(){b.addEventListener("touchstart",n,!0),b.addEventListener("touchend",o,!0),b.addEventListener("touchmove",p,!0),b.addEventListener("touchenter",s,!0),b.addEventListener("_touchover",s,!0),b.addEventListener("touchcancel",r,!0),b.addEventListener("click",i,!0)},w.bindMouse=function(){b.addEventListener("mousedown",g,!0),b.addEventListener("mouseup",j,!0),b.addEventListener("mousemove",k,!0),b.addEventListener("mouseover",l,!0),b.addEventListener("mouseout",m,!0),b.addEventListener("keyup",u,!0),b.addEventListener("keydown",v,!0),b.addEventListener("scroll",q,!0),b.addEventListener("click",i,!0)},c.event.vmouse=w,z?w.bindTouch():w.bindMouse()}(a,a.document,d),function(a,b){b.widget.wearable.indexscrollbar=b.widget.wearable.indexscrollbar||{}}(a,d),function(a,b){function c(a,b){return this.element=a,this.options=d.merge(b,this._options,!1),this.container=this.options.container,this.indices={original:this.options.index,merged:[]},this._init(),this}var d=b.util.object,e=b.util.DOM;c.prototype={_options:{container:null,offsetLeft:0,index:[],verticalCenter:!1,moreChar:"*",indexHeight:41,selectedClass:"ui-state-selected",ulClass:null,maxIndexLen:0},_init:function(){this.indices.original=this.options.index,this.indexLookupTable=[],this.indexElements=null,this.selectedIndex=-1,this.visiblity="hidden",this._setMaxIndexLen(),this._makeMergedIndices(),this._drawDOM(),this._appendToContainer(),this.options.verticalCenter&&this._adjustVerticalCenter(),this._setIndexCellInfo()},_clear:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.indices.merged.length=0,this.indexLookupTable.length=0,this.indexElements=null,this.selectedIndex=-1,this.visiblity=null},refresh:function(){this._clear(),this._init()},destroy:function(){this._clear()},show:function(){this.visibility="visible",this.element.style.visibility=this.visibility},hide:function(){this.visibility="hidden",this.element.style.visibility=this.visibility},isShown:function(){return"visible"===this.visibility},_setMaxIndexLen:function(){var a,b=this.container.offsetHeight;a=Math.floor(b/this.options.indexHeight),a>0&&a%2===0&&(a-=1),this.options.maxIndexLen=this.options.maxIndexLen>0?Math.min(a,this.options.maxIndexLen):a},_makeMergedIndices:function(){var a,b,c=this.indices.original,d=c.length,e=Math.min(this.options.maxIndexLen,d),f=d-e,g=parseInt(f/parseInt(e/2,10),10),h=f%parseInt(e/2,10),i=[],j=[],k=0;for(a=0,b=e;b>a;a++)i[a]=1,a%2&&(i[a]+=g+(h-->0?1:0)),k+=i[a],j.push({start:k-1,length:i[a]});this.indices.merged=j},_drawDOM:function(){var b,c,d,e,f,g=this.indices.original,h=this.indices.merged,i=h.length,j=this.options.indexHeight,k=this.options.moreChar,l=9;for(c=a.createDocumentFragment(),e=0;i>e;e++)f=h[e],b=1===f.length?g[f.start]:k,d=a.createElement("li"),d.innerText=b.toUpperCase(),d.style.height=j+"px",d.style.lineHeight=b===k?j+l+"px":j+"px",c.appendChild(d);this.element.appendChild(c),this.options.ulClass&&this.element.classList.add(this.options.ulClass)},_adjustVerticalCenter:function(){var a=this.indices.merged.length,b=a*this.options.indexHeight,c=parseInt((this.container.offsetHeight-b)/2,10);this.element.style.paddingTop=c+"px"},_appendToContainer:function(){this.container.appendChild(this.element),this.element.style.left=this.options.offsetLeft+"px"},setPaddingTop:function(a){var b=this.element.clientHeight,c=this.element.style.paddingTop,d=this.container.clientHeight;c=""===c?0:parseInt(c,10),b-=c,b>d&&(a-=a+b-d),this.element.style.paddingTop=a+"px",this._setIndexCellInfo()},getOffsetTopByIndex:function(a){var b=this.indexLookupTable[a].cellIndex,c=this.indexElements[b],d=c.offsetTop;
return d},_setIndexCellInfo:function(){var a=this.element,b=this.indices.merged,c=e.getElementOffset(this.container).top,d=this.element.querySelectorAll("LI"),f=[];[].forEach.call(d,function(a,d){for(var e=b[d],g=e.start,h=g+e.length,i=c+a.offsetTop,j=a.offsetHeight/e.length;h>g;g++)f.push({cellIndex:d,top:i,range:j}),i+=j}),this.indexLookupTable=f,this.indexElements=a.children},getIndexByPosition:function(a){var b,c,d,e,f=this.indexLookupTable;if(f[0]&&(b=f[0],a<b.top))return 0;if(f[f.length-1]&&(b=f[f.length-1],a>=b.top+b.range))return f.length-1;for(c=0,d=f.length;d>c;c++)if(b=f[c],e=a-b.top,e>=0&&e<b.range)return c;return 0},getValueByIndex:function(a){return 0>a&&(a=0),this.indices.original[a]},select:function(a){var b,c;this.clearSelected(),this.selectedIndex!==a&&(this.selectedIndex=a,b=this.indexLookupTable[a].cellIndex,c=this.indexElements[b],c.classList.add(this.options.selectedClass))},clearSelected:function(){var a=this.element,b=this.options.selectedClass,c=a.querySelectorAll("."+b);[].forEach.call(c,function(a){a.classList.remove(b)}),this.selectedIndex=-1}},b.widget.wearable.indexscrollbar.IndexBar=c}(a.document,d),function(b,c){function d(a){a.preventDefault(),a.stopPropagation()}function e(a,b){return this.element=a,this.options=f.merge(b,this._options,!1),this.value=null,this._init(),this}var f=c.util.object,g=c.event;e.prototype={_options:{className:"ui-indexscrollbar-indicator",selectedClass:"ui-selected",container:null},_init:function(){var a=this,b=a.options,c=a.element;c.className=b.className,c.innerHTML="<span></span>",g.on(c,["touchstart","touchmove"],d,!1),b.referenceElement.parentNode.insertBefore(c,b.referenceElement),a.fitToContainer()},fitToContainer:function(){var b=this.element,c=this.options.container,d=a.getComputedStyle(c).position;b.style.width=c.offsetWidth+"px",b.style.height=c.offsetHeight+"px","absolute"!==d&&"relative"!==d&&(b.style.top=c.offsetTop+"px",b.style.left=c.offsetLeft+"px")},setValue:function(a){this.value=a,a=a.toUpperCase();var b=a.substr(a.length-1),c=a.substr(0,a.length-1),d="<span>"+c+'</span><span class="ui-selected">'+b+"</span>";this.element.firstChild.innerHTML=d},show:function(){this.element.style.display="block"},hide:function(){this.element.style.display="none"},destroy:function(){for(var a=this.element;a.firstChild;)a.removeChild(a.firstChild);g.off(a,["touchstart","touchmove"],d,!1),this.element=null}},c.widget.wearable.indexscrollbar.IndexIndicator=e}(a.document,d),function(b,c){var d=function(){this.element=null,this.indicator=null,this.indexBar1=null,this.indexBar2=null,this.index=null,this.touchAreaOffsetLeft=0,this.indexElements=null,this.selectEventTriggerTimeoutId=null,this.ulMarginTop=0,this.eventHandlers={}},e=c.widget.BaseWidget,f=c.engine,g=c.event,h=c.util.object,i=c.util.DOM,j=c.widget.wearable.indexscrollbar.IndexBar,k=c.widget.wearable.indexscrollbar.IndexIndicator,l={SELECT:"select"},m="vmousedown",n="vmousemove",o="vmouseup",p=!1,q=new e;d.prototype=q,h.merge(q,{widgetName:"IndexScrollbar",widgetClass:"ui-indexscrollbar",_configure:function(){this.options={moreChar:"*",indexScrollbarClass:"ui-indexscrollbar",selectedClass:"ui-state-selected",indicatorClass:"ui-indexscrollbar-indicator",delimiter:",",index:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1"],maxIndexLen:0,indexHeight:41,keepSelectEventDelay:50,container:null,supplementaryIndex:null,supplementaryIndexMargin:1}},_build:function(a){return a},_init:function(a){var b=this,c=b.options;return a.classList.add(c.indexScrollbarClass),b._setIndex(a,c.index),b._setMaxIndexLen(a,c.maxIndexLen),b._setInitialLayout(),b._createSubObjects(),b._updateLayout(),b._extended(!0),a},_refresh:function(){this._isExtended()&&(this._unbindEvent(),this.indicator.hide(),this._extended(!1)),this._updateLayout(),this.indexBar1.refresh(),this._extended(!0)},_destroy:function(){var a=this;a.isBound()&&(a._unbindEvent(),a._extended(!1),a._destroySubObjects(),a.indicator=null,a.index=null,a.eventHandlers={})},_createSubObjects:function(){var a=this,c=a.options,d=a.element;a.indexBar1=new j(b.createElement("UL"),{container:d,offsetLeft:0,index:c.index,verticalCenter:!0,indexHeight:c.indexHeight,maxIndexLen:c.maxIndexLen}),"function"==typeof c.supplementaryIndex&&(a.indexBar2=new j(b.createElement("UL"),{container:d,offsetLeft:-d.clientWidth-c.supplementaryIndexMargin,index:[],indexHeight:c.indexHeight,ulClass:"ui-indexscrollbar-supplementary"}),a.indexBar2.hide()),a.indicator=new k(b.createElement("DIV"),{container:a._getContainer(),referenceElement:a.element,className:c.indicatorClass})},_destroySubObjects:function(){var a,b,c,d={iBar1:this.indexBar1,iBar2:this.indexBar2,indicator:this.indicator};for(c in d)a=d[c],a&&(b=a.element,a.destroy(),b.parentNode.removeChild(b))},_setInitialLayout:function(){var b=this.element,c=this._getContainer(),d=a.getComputedStyle(c).position,e=b.style;"absolute"!==d&&"relative"!==d&&(e.top=c.offsetTop+"px",e.height=c.offsetHeight+"px")},_setMaxIndexLen:function(a,b){var c=this,d=c.options,e=c._getContainer(),f=e.offsetHeight;0>=b&&(b=Math.floor(f/d.indexHeight)),b>0&&b%2===0&&(b-=1),d.maxIndexLen=b},_updateLayout:function(){this._setInitialLayout(),this._draw(),this.touchAreaOffsetLeft=this.element.offsetLeft-10},_draw:function(){return this.indexBar1.show(),this},_removeIndicator:function(){var a=this.indicator,b=a.element.parentNode;b.removeChild(a.element),a.destroy(),this.indicator=null},_getEventReceiverByPosition:function(b){var c,d=a.innerWidth,e=this.element.clientWidth;return c=this.options.supplementaryIndex?b>=d-e&&d>=b?this.indexBar1:this.indexBar2:this.indexBar1},_updateIndicatorAndTriggerEvent:function(b){this.indicator.setValue(b),this.indicator.show(),this.selectEventTriggerTimeoutId&&a.clearTimeout(this.selectEventTriggerTimeoutId),this.selectEventTriggerTimeoutId=a.setTimeout(function(){this.trigger(l.SELECT,{index:b}),this.selectEventTriggerTimeoutId=null}.bind(this),this.options.keepSelectEventDelay)},_onTouchStartHandler:function(a){p=!0;var c=a.touches||a._originalEvent&&a._originalEvent.touches;if(c&&c.length>1)return a.preventDefault(),a.stopPropagation(),void 0;var d=this._getPositionFromEvent(a),e=this.indexBar1,f=e.getIndexByPosition(d.y),g=e.getValueByIndex(f);e.select(f),b.addEventListener(n,this.eventHandlers.touchMove),b.addEventListener(o,this.eventHandlers.touchEnd),b.addEventListener("touchcancel",this.eventHandlers.touchEnd),this._updateIndicatorAndTriggerEvent(g)},_onTouchMoveHandler:function(a){var b=a._originalEvent&&a._originalEvent.touches;if(b&&b.length>1||!p)return g.preventDefault(a),g.stopPropagation(a),void 0;var c,d,e,f=this._getPositionFromEvent(a),h=this.indexBar1,i=this.indexBar2;d=this._getEventReceiverByPosition(f.x),d===i&&(i.options.index=this.options.supplementaryIndex(h.getValueByIndex(h.selectedIndex)),i.refresh()),c=d.getIndexByPosition(f.y),e=d.getValueByIndex(c),d===i?e=h.getValueByIndex(h.selectedIndex)+e:i&&!i.isShown()&&i.setPaddingTop(h.getOffsetTopByIndex(h.selectedIndex)),d.select(c),d.show(),h===d&&i&&i.hide(),this._updateIndicatorAndTriggerEvent(e),g.preventDefault(a),g.stopPropagation(a)},_onTouchEndHandler:function(a){var c=this,d=a._originalEvent&&a._originalEvent.touches;(d&&0===d.length||!d)&&(p=!1),c.indicator.hide(),c.indexBar1.clearSelected(),c.indexBar2&&(c.indexBar2.clearSelected(),c.indexBar2.hide()),b.removeEventListener(n,c.eventHandlers.touchMove),b.removeEventListener(o,c.eventHandlers.touchEnd),b.removeEventListener("touchcancel",c.eventHandlers.touchEnd)},_bindEvents:function(){this._bindResizeEvent(),this._bindEventToTriggerSelectEvent()},_unbindEvent:function(){this._unbindResizeEvent(),this._unbindEventToTriggerSelectEvent()},_bindResizeEvent:function(){this.eventHandlers.onresize=function(){this.refresh()}.bind(this),a.addEventListener("resize",this.eventHandlers.onresize)},_unbindResizeEvent:function(){this.eventHandlers.onresize&&a.removeEventListener("resize",this.eventHandlers.onresize)},_bindEventToTriggerSelectEvent:function(){var a=this;a.eventHandlers.touchStart=a._onTouchStartHandler.bind(a),a.eventHandlers.touchEnd=a._onTouchEndHandler.bind(a),a.eventHandlers.touchMove=a._onTouchMoveHandler.bind(a),a.element.addEventListener(m,a.eventHandlers.touchStart)},_unbindEventToTriggerSelectEvent:function(){var a=this;a.element.removeEventListener(m,a.eventHandlers.touchStart)},_data:function(a,b){var c,d=this.element,e=d.__data;if(e||(e=d.__data={}),"object"==typeof a){for(c in a)this._data(c,a[c]);return this}return"undefined"==typeof b?e[a]:(e[a]=b,this)},_isValidElement:function(a){return a.classList.contains(this.widgetClass)},_isExtended:function(){return!!this._data("extended")},_extended:function(a){return this._data("extended",a),this},_setIndex:function(a,b){var c=this.options;"string"==typeof b&&(b=b.split(c.delimiter)),c.index=b},_getOffset:function(a){var b=0,c=0;do c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;while(a);return{top:c,left:b}},_getContainer:function(){var a,c=this.options.container,d=this.element,e=d.parentNode;if(!c){for(;e!=b.body;){if(a=i.getCSSProperty(e,"overflow-y"),"scroll"===a||"auto"===a&&e.scrollHeight>e.clientHeight)return e;e=e.parentNode}c=d.parentNode}return c},_getPositionFromEvent:function(a){return-1!==a.type.search(/^touch/)?{x:a.touches[0].clientX,y:a.touches[0].clientY}:{x:a.clientX,y:a.clientY}},addEventListener:function(a,b){this.element.addEventListener(a,b)},removeEventListener:function(a,b){this.element.removeEventListener(a,b)}}),c.widget.wearable.IndexScrollbar=d,f.defineWidget("IndexScrollbar",".ui-indexscrollbar",[],d,"wearable")}(a.document,d),function(a,b){var c=b.widget.BaseWidget,d=b.engine,e=function(){return this},f=new c;e.events={},f._build=function(a){return a},f._init=function(a){return a},f._bindEvents=function(a){return a},f._refresh=function(){return null},f._destroy=function(){return null},e.prototype=f,b.widget.wearable.Progress=e,d.defineWidget("Progress","progress",[],e,"wearable")}(a.document,d),function(a,b){var c=b.widget.BaseWidget,d=b.engine,e=function(){return this},f=new c;e.events={},f._build=function(a){return a},f._init=function(a){return a},f._bindEvents=function(a){return a},f._refresh=function(){return null},f._destroy=function(){return null},e.prototype=f,b.widget.wearable.Progressing=e,d.defineWidget("Progressing",".ui-progress",[],e,"wearable")}(a.document,d),function(a,b){function c(a){return k[a]}function d(a,b){a.classList.add(c(b))}function e(b){return a.createElement(b)}var f=b.widget.BaseWidget,g=b.engine,h=function(){this.options={text:null}},i={},j="ui-switch",k={handler:j+"-handler",inneroffset:j+"-inneroffset",activation:j+"-activation",input:j+"-input",text:j+"-text"},l=new f;h.events=i,h.classes=k,l._build=function(a){var b,c=this.options,f=c.text,g=e("label"),h=e("input"),i=e("div"),j=e("div"),k=e("div");return f&&(b=e("div"),d(b,"text"),b.innerHTML=f,a.appendChild(b)),d(k,"handler"),j.appendChild(k),d(j,"inneroffset"),i.appendChild(j),d(i,"activation"),g.classList.add("ui-toggleswitch"),h.type="checkbox",d(h,"input"),g.appendChild(h),g.appendChild(i),a.appendChild(g),a},h.prototype=l,b.widget.wearable.ToggleSwitch=h,g.defineWidget("ToggleSwitch",".ui-switch",[],h,"wearable")}(a.document,d),function(b,c){function d(a){for(var b=a.element.children,c=b.length;--c>=0;)b[c].classList.remove(A.classes.uiListviewActive)}function e(b,c){var e=c.changedTouches||c._originalEvent&&c._originalEvent.changedTouches,f=e&&e.length?e[0]:c;c.type===C?Math.abs(z.clientX-f.clientX)>10&&Math.abs(z.clientY-f.clientY)>10&&(d(b),a.clearTimeout(m)):(d(b),a.clearTimeout(m))}function f(a){var b;b="LI"===n.tagName?n:n.parentNode,n.removeEventListener(C,y,!1),n.removeEventListener(D,y,!1),y=null,d(a),b.classList.add(A.classes.uiListviewActive),z={}}function g(b,c){var d;n=c.target,a.clearTimeout(m),n.removeEventListener(C,y,!1),n.removeEventListener(D,y,!1),m=a.setTimeout(f.bind(null,b),x),d=c.touches&&c.touches.length?c.touches[0]:c,z.clientX=d.clientX,z.clientY=d.clientY,y=e.bind(null,b),n.addEventListener(C,y,!1),n.addEventListener(D,y,!1)}function h(a){var b=a._scroll,c=b.direction,d=a.ui.scrollview,e=b.lastPositionX,f=b.lastPositionY,g=d.scrollLeft,h=d.scrollTop;a._refreshScrollbar(),c=[0,0,0,0],f>h&&(c[q]=1),e>g&&(c[r]=1),h>f&&(c[s]=1),g>e&&(c[t]=1),b.lastJumpY=Math.abs(h-f),b.lastJumpX=Math.abs(g-e),b.lastPositionX=g,b.lastPositionY=h,b.direction=c,b.clipHeight=d.clientHeight,b.clipWidth=d.clientWidth}function i(a,b){return parseInt(b===u?a.clientHeight:a.clientWidth,10)+1}function j(a,b){var c,d,e=a.element,f=a.options,g=a._scroll,h=0,j=f.dataLength,k=0,l=0,m=0,n=f.bufferSize,o=0,p=!1;for(h=f.orientation===u?g.clipHeight:g.clipWidth,m=i(e,f.orientation)/n,l=Math.floor((n-Math.floor(h/m))/2),0>=b-l?(d=0,k=0):d=b-l,d+n>=j&&(d=j-n,p=!0),k=b-d,a._loadData(d),w=!0,o=d*m,f.orientation===u?(p&&(o=a.ui.spacer.clientHeight),e.style.top=o+"px"):(p&&(o=a.ui.spacer.clientWidth),e.style.left=o+"px"),c=0;k>c;c+=1)o+=i(e.children[c],f.orientation);f.orientation===u?a.ui.scrollview.scrollTop=o:a.ui.scrollview.scrollLeft=o,w=!1,a._currentIndex=d}function k(a){var b,c,d,e=a.element,f=a._scroll,g=a.options,h=e.style,j=a._currentIndex,k=parseInt(g.bufferSize,10),l=g.dataLength,m=f.direction,n=f.clipWidth,o=f.clipHeight,p=f.lastPositionY,v=f.lastPositionX,w=parseInt(h.top,10)||0,x=parseInt(h.left,10)||0,y=0,z=0,A=0,B=null,C=0,D=0,E=0,F=0,G=0;for(b=e.children,E=b.length-1;E>0;E-=1)D+=g.orientation===u?b[E].clientHeight:b[E].clientWidth;if(C=i(e,g.orientation)/k,m[s]&&(G=p-w,A=l-j-k),m[q]&&(G=w+D-(p+o),A=j),m[r]&&(G=v-x,A=l-j-k),m[t]&&(G=x+D-(v-n),A=j),G>0&&1.5>=D/G){for(y=Math.floor(G/C)-Math.floor((k-o/C)/2),y=y>A?A:y,z=Math.floor(y/k),y%=k,z>0&&((m[s]||m[r])&&(c=1),(m[q]||m[t])&&(c=-1),a._loadData(j+c*z*k),j=a._currentIndex,F+=c*z*k*C),(m[s]||m[r])&&(j=j+k-1),E=y;E>0;E-=1)(m[s]||m[r])&&(B=e.appendChild(e.firstElementChild),++j,a._updateListItem(B,j),F+=B.clientHeight),(m[q]||m[t])&&(B=e.insertBefore(e.lastElementChild,e.firstElementChild),--j,a._updateListItem(B,j),F-=B.clientHeight);(m[q]||m[s])&&(d=w+F,(0>d||0>=j)&&(d=0,j=0),j>=l-1&&(d=a.ui.spacer.clientHeight),h.top=d+"px"),(m[t]||m[r])&&(d=x+F,(0>d||0>=j)&&(d=0),j>=l-1&&(d=a.ui.spacer.clientWidth),h.left=d+"px"),(m[s]||m[r])&&(j=j-k+1),a._currentIndex=j}}function l(a){var b=a._scroll;h.call(null,a),(b.lastJumpY>0||b.lastJumpX>0)&&(w||k(a))}var m,n,o=c.widget.BaseWidget,p=c.engine,q=0,r=1,s=2,t=3,u="y",v="x",w=!1,x=250,y=null,z={},A=function(){var a=this;return a.ui={scrollview:null,spacer:null,itemSize:0},a._scroll={direction:[0,0,0,0],lastPositionX:0,lastPositionY:0,lastJumpX:0,lastJumpY:0,clipWidth:0,clipHeight:0},a.name="VirtualListview",a._currentIndex=0,a.options={bufferSize:100,dataLength:0,orientation:u,listItemUpdater:null},a._scrollEventBound=null,a._touchStartEventBound=null,a},B="vmousedown",C="vmousemove",D="vmouseup",E=new o;A.classes={uiVirtualListContainer:"ui-virtual-list-container",uiListviewActive:"ui-listview-active"},E._updateListItem=function(a,b){this.options.listItemUpdater(a,b)},E._build=function(a){var b=A.classes;return a.classList.add(b.uiVirtualListContainer),a},E._init=function(a){var c,d,e,f,g,h=this,i=h.ui,j=h.options;c=j.orientation.toLowerCase()===v?v:u,d=a.parentElement,e=d.style,f=b.createElement("div"),g=f.style,g.display="block",g.position="static",d.appendChild(f),a.style.position="relative",c===v?(g.float="left",e.overflowX="scroll",e.overflowY="hidden"):(e.overflowX="hidden",e.overflowY="scroll"),j.dataLength<j.bufferSize&&(j.bufferSize=j.dataLength),j.bufferSize<1&&(j.bufferSize=1),i.spacer=f,i.scrollview=d,h.element=a,j.orientation=c},E._buildList=function(){var a,c,d=this.element,e=this.options.bufferSize,f=b.createDocumentFragment(),h=g.bind(null,this),i=this.options.orientation;for(c=0;e>c;++c)a=b.createElement("li"),i===v&&(a.style.float="left"),this._updateListItem(a,c),f.appendChild(a),a.addEventListener(B,h,!1);d.appendChild(f),this._touchStartEventBound=h,this._refresh()},E._refresh=function(){this._refreshScrollbar()},E._loadData=function(a){var b=this,c=b.element.firstElementChild;if(b._currentIndex!==a){b._currentIndex=a;do b._updateListItem(c,a),++a,c=c.nextElementSibling;while(c)}},E._refreshScrollbar=function(){var a,b=this,c=b.element,d=b.options,e=b.ui,f=e.spacer.style;d.orientation===u?(a=parseFloat(c.clientHeight)||0,f.height=a/d.bufferSize*d.dataLength-a+"px"):(a=parseFloat(c.clientWidth)||0,f.width=a/d.bufferSize*(d.dataLength-1)-4/3*a+"px")},E._bindEvents=function(){var a=l.bind(null,this),b=this.ui.scrollview;b&&(b.addEventListener("scroll",a,!1),this._scrollEventBound=a)},E._destroy=function(){var a,b=this,c=b.ui.scrollview,d=b.ui.spacer,e=b.element,f=e.style;for(f.position="static",b.options.orientation===u?f.top="auto":f.left="auto",c&&c.removeEventListener("scroll",b._scrollEventBound,!1),d.parentNode&&d.parentNode.removeChild(d);e.firstElementChild;)a=e.firstElementChild,a.removeEventListener(B,b._touchStartEventBound,!1),e.removeChild(a)},E.scrollTo=function(a){this.ui.scrollview.scrollTop=a},E.scrollToIndex=function(a){0>a&&(a=0),a>=this.options.dataLength&&(a=this.options.dataLength-1),h(this),j(this,a)},E.draw=function(){this._buildList(),this.trigger("draw")},E.setListItemUpdater=function(a){this.options.listItemUpdater=a},A.prototype=E,c.widget.wearable.VirtualListview=A,p.defineWidget("VirtualListview","",["draw","setListItemUpdater","scrollTo","scrollToIndex"],A,"wearable")}(a.document,d),function(a,b){b.widget.wearable.scroller=b.widget.wearable.scroller||{}}(a,d),function(a,b){b.widget.wearable.scroller.effect=b.widget.wearable.scroller.effect||{}}(a,d),function(a,b){var c=b.util.object,d=b.util.selectors,e=function(a,d){var f=this;f._orientation=null,f._maxValue=null,f._container=null,f._minEffectElement=null,f._maxEffectElement=null,f.options=c.merge({},e.defaults,{scrollEndEffectArea:b.getConfig("scrollEndEffectArea",e.defaults.scrollEndEffectArea)}),f._targetElement=null,f._isShow=!1,f._isDrag=!1,f._isShowAnimating=!1,f._isHideAnimating=!1,f._create(a,d)},f={content:"content",screen:"screen"},g={duration:500,scrollEndEffectArea:"content"},h={bouncingEffect:"ui-scrollbar-bouncing-effect",page:"ui-page",left:"ui-left",right:"ui-right",top:"ui-top",bottom:"ui-bottom",hide:"ui-hide",show:"ui-show"};e.defaults=g,e.prototype={_create:function(a,b){var c=this;c._container=c.options.scrollEndEffectArea===f.content?a:d.getClosestByClass(a,h.page),c._orientation=b.orientation,c._maxValue=c._getValue(b.maxScrollX,b.maxScrollY),c._initLayout()},_initLayout:function(){var c=this,d=c._minEffectElement=a.createElement("DIV"),e=c._maxEffectElement=a.createElement("DIV"),f=h.bouncingEffect;c._orientation===b.widget.wearable.scroller.Scroller.Orientation.HORIZONTAL?(d.className=f+" "+h.left,e.className=f+" "+h.right):(d.className=f+" "+h.top,e.className=f+" "+h.bottom),c._container.appendChild(d),c._container.appendChild(e),d.addEventListener("webkitAnimationEnd",this),e.addEventListener("webkitAnimationEnd",this)},drag:function(a,b){this._isDrag=!0,this._checkAndShow(a,b)},dragEnd:function(){var a=this;!a._isShow||a._isShowAnimating||a._isHideAnimating||a._beginHide(),a._isDrag=!1},show:function(){var a=this;a._targetElement&&(a._isShow=!0,a._beginShow())},hide:function(){var a=this;a._isShow&&(a._minEffectElement.style.display="none",a._maxEffectElement.style.display="none",a._targetElement.classList.remove(h.hide),a._targetElement.classList.remove(h.show)),a._isShow=!1,a._isShowAnimating=!1,a._isHideAnimating=!1,a._targetElement=null},_checkAndShow:function(a,b){var c=this,d=c._getValue(a,b);c._isShow?!c._isShow||c._isDrag||c._isShowAnimating||c._isHideAnimating||c._beginHide():d>=0?(c._targetElement=c._minEffectElement,c.show()):d<=c._maxValue&&(c._targetElement=c._maxEffectElement,c.show())},_getValue:function(a,c){return this._orientation===b.widget.wearable.scroller.Scroller.Orientation.HORIZONTAL?a:c},_beginShow:function(){var a=this;a._targetElement&&!a._isShowAnimating&&(a._targetElement.style.display="block",a._targetElement.classList.remove(h.hide),a._targetElement.classList.add(h.show),a._isShowAnimating=!0,a._isHideAnimating=!1)},_finishShow:function(){var a=this;a._isShowAnimating=!1,a._isDrag||(a._targetElement.classList.remove(h.show),a._beginHide())},_beginHide:function(){var a=this;a._isHideAnimating||(a._targetElement.classList.remove(h.show),a._targetElement.classList.add(h.hide),a._isHideAnimating=!0,a._isShowAnimating=!1)},_finishHide:function(){var a=this;a._isHideAnimating=!1,a._targetElement.classList.remove(h.hide),a.hide(),a._checkAndShow()},handleEvent:function(a){var b=this;"webkitAnimationEnd"===a.type&&(b._isShowAnimating?b._finishShow():b._isHideAnimating&&b._finishHide())},destroy:function(){var a=this;a._minEffectElement.removeEventListener("webkitAnimationEnd",a),a._maxEffectElement.removeEventListener("webkitAnimationEnd",a),a._container.removeChild(a._minEffectElement),a._container.removeChild(a._maxEffectElement),a._container=null,a._minEffectElement=null,a._maxEffectElement=null,a._targetElement=null,a._isShow=null,a._orientation=null,a._maxValue=null}},b.widget.wearable.scroller.effect.Bouncing=e}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=(c.event.gesture,c.engine),f=c.util.object,g=c.event,h=g.trigger,i=new d,j=c.widget.wearable.scroller.effect.Bouncing,k={START:"scrollstart",MOVE:"scrollmove",END:"scrollend",CANCEL:"scrollcancel"},l=!1,m=function(){};m.Orientation={VERTICAL:"vertical",HORIZONTAL:"horizontal"},i._build=function(a){if(1!==a.children.length)throw"scroller has only one child.";return this.scroller=a.children[0],this.scrollerStyle=this.scroller.style,this.bouncingEffect=null,this.scrollbar=null,this.scrollerWidth=0,this.scrollerHeight=0,this.scrollerOffsetX=0,this.scrollerOffsetY=0,this.maxScrollX=0,this.maxScrollY=0,this.startScrollerOffsetX=0,this.startScrollerOffsetY=0,this.orientation=null,this.enabled=!0,this.scrolled=!1,this.dragging=!1,this.scrollCanceled=!1,a},i._configure=function(){this.options=f.merge({},this.options,{scrollDelay:0,threshold:10,scrollbar:"",useBouncingEffect:!1,orientation:"vertical"})},i._init=function(){var a=this.options,b=this.scroller.children,c=this.element.style,d=this.scroller.style,e=this.element.offsetWidth/2,f=this.element.offsetHeight/2;this.orientation=this.orientation?this.orientation:"horizontal"===a.orientation?m.Orientation.HORIZONTAL:m.Orientation.VERTICAL,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=e-this.scrollerWidth+b[b.length-1].offsetWidth/2,this.maxScrollY=f-this.scrollerHeight+b[b.length-1].offsetHeight/2,this.minScrollX=e-b[0].offsetWidth/2,this.minScrollY=f-b[0].offsetHeight/2,this.scrolled=!1,this.touching=!0,this.scrollCanceled=!1,this.orientation===m.Orientation.HORIZONTAL?this.maxScrollY=0:this.maxScrollX=0,c.overflow="hidden",c.position="relative",d.position="absolute",d.top="0px",d.left="0px",d.width=this.scrollerWidth+"px",d.height=this.scrollerHeight+"px",this._initScrollbar(),this._initBouncingEffect()},i._initScrollbar=function(){var a,b=this.options.scrollbar;b&&(a=c.widget.wearable.scroller.scrollbar.type[b],a&&(this.scrollbar=e.instanceWidget(this.element,"ScrollBar",{type:a,orientation:this.orientation})))},i._initBouncingEffect=function(){var a=this.options;a.useBouncingEffect&&(this.bouncingEffect=new j(this.element,{maxScrollX:this.maxScrollX,maxScrollY:this.maxScrollY,orientation:this.orientation}))},i._resetLayout=function(){var a=this.element.style,b=this.scrollerStyle;a.overflow="",a.position="",a.overflow="hidden",a.position="relative",b&&(b.position="",b.top="",b.left="",b.width="",b.height="",b["-webkit-transform"]="",b["-webkit-transition"]="")},i._bindEvents=function(){c.event.enableGesture(this.scroller,new c.event.gesture.Drag({threshold:this.options.threshold,delay:this.options.scrollDelay,blockVertical:this.orientation===m.Orientation.HORIZONTAL,blockHorizontal:this.orientation===m.Orientation.VERTICAL})),g.on(this.scroller,"drag dragstart dragend dragcancel",this),a.addEventListener("resize",this)},i._unbindEvents=function(){this.scroller&&(c.event.disableGesture(this.scroller),g.off(this.scroller,"drag dragstart dragend dragcancel",this),a.removeEventListener("resize",this))},i.handleEvent=function(a){switch(a.type){case"dragstart":this._start(a);break;case"drag":this._move(a);break;case"dragend":this._end(a);break;case"dragcancel":this.cancel(a);break;case"resize":this.refresh()}},i.setOptions=function(a){var b;for(b in a)a.hasOwnProperty(b)&&a[b]&&(this.options[b]=a[b])},i._refresh=function(){this._clear(),this._unbindEvents(),this._init(),this._bindEvents()},i.scrollTo=function(a,b,c){this._translate(a,b,c),this._translateScrollbar(a,b,c)},i._translate=function(b,c,d){var e,f,g=this.scrollerStyle;f=d?"-webkit-transform "+d/1e3+"s ease-out":"none",e="translate3d("+b+"px,"+c+"px, 0)",g["-webkit-transform"]=e,g["-webkit-transition"]=f,this.scrollerOffsetX=a.parseInt(b,10),this.scrollerOffsetY=a.parseInt(c,10)},i._translateScrollbar=function(a,b,c,d){this.scrollbar&&this.scrollbar.translate(this.orientation===m.Orientation.HORIZONTAL?-a:-b,c,d)},i._start=function(){this.scrolled=!1,this.dragging=!0,this.scrollCanceled=!1,this.startScrollerOffsetX=this.scrollerOffsetX,this.startScrollerOffsetY=this.scrollerOffsetY},i._move=function(a){var b=this.startScrollerOffsetX,c=this.startScrollerOffsetY,d=!l;this.enabled&&!this.scrollCanceled&&this.dragging&&(this.orientation===m.Orientation.HORIZONTAL?b+=a.detail.estimatedDeltaX:c+=a.detail.estimatedDeltaY,(b>this.minScrollX||b<this.maxScrollX)&&(b=b>this.minScrollX?this.minScrollX:this.maxScrollX),(c>this.minScrollY||c<this.maxScrollY)&&(c=c>this.minScrollY?this.minScrollY:this.maxScrollY),b!==this.scrollerOffsetX||c!==this.scrollerOffsetY?(this.scrolled||this._fireEvent(k.START),this.scrolled=!0,this._translate(b,c),this._translateScrollbar(b,c,0,d),this._fireEvent(k.MOVE),this.bouncingEffect&&this.bouncingEffect.hide()):(this.bouncingEffect&&this.bouncingEffect.drag(b,c),this._translateScrollbar(b,c,0,d)))},i._end=function(){this.dragging&&(this.bouncingEffect&&this.bouncingEffect.dragEnd(),this.scrollbar&&this.scrollbar.end(),this._endScroll(),this.dragging=!1)},i._endScroll=function(){this.scrolled&&this._fireEvent(k.END),this.scrolled=!1},i.cancel=function(){this.scrollCanceled=!0,this.scrolled&&(this._translate(this.startScrollerOffsetX,this.startScrollerOffsetY),this._translateScrollbar(this.startScrollerOffsetX,this.startScrollerOffsetY),this._fireEvent(k.CANCEL)),this.scrollbar&&this.scrollbar.end(),this.scrolled=!1,this.dragging=!1},i._fireEvent=function(a,b){h(this.element,a,b)},i._clear=function(){this.scrolled=!1,this.scrollCanceled=!1,this._resetLayout(),this._clearScrollbar(),this._clearBouncingEffect()},i._clearScrollbar=function(){this.scrollbar&&this.scrollbar.destroy(),this.scrollbar=null},i._clearBouncingEffect=function(){this.bouncingEffect&&this.bouncingEffect.destroy(),this.bouncingEffect=null},i._disable=function(){this.enabled=!1},i._enable=function(){this.enabled=!0},i._destroy=function(){this._clear(),this._unbindEvents(),this.scrollerStyle=null,this.scroller=null},m.prototype=i,c.widget.wearable.scroller.Scroller=m,e.defineWidget("Scroller",".scroller",["scrollTo","cancel"],m)}(a.document,d),function(a,b){var c=b.engine,d=b.util.object,e=function(){this.tabSize=0,this.activeIndex=0,this.width=0};e.EventType={change:"tabchange"},e.prototype=new b.widget.BaseWidget,d.fastMerge(e.prototype,{_init:function(a){var b=this.options;this.width=a.offsetWidth,a.classList.add(b.wrapperClass)},_configure:function(){this.options={margin:4,triggerEvent:!1,wrapperClass:"ui-tab-indicator",itemClass:"ui-tab-item",activeClass:"ui-tab-active"}},_createIndicator:function(){var b,c=this.options,d=this.activeIndex,e=a.createDocumentFragment(),f=[],g=c.margin,h=0,i=this.tabSize,j=this.width-g*(i-1),k=Math.floor(j/i),l=j%i,m=0;for(h=0;i>h;h++)f[h]=k;for(h=Math.floor((i-l)/2);l>0;h++,l--)f[h]+=1;for(h=0;i>h;h++)b=a.createElement("span"),b.classList.add(c.itemClass),b.style.width=f[h]+"px",b.style.left=m+"px",m+=f[h]+g,h===d&&b.classList.add(c.activeClass),e.appendChild(b);this.element.appendChild(e)},_removeIndicator:function(){this.element.innerHTML=""},_fireEvent:function(a,c){b.fireEvent(this.element,a,c)},_refresh:function(){this._removeIndicator(),this._createIndicator()},setActive:function(a){var b=this.options,c=this.element.children;this.activeIndex=a,[].forEach.call(c,function(a){a.classList.remove(b.activeClass)}),a<c.length&&(c[a].classList.add(b.activeClass),b.triggerEvent&&this._fireEvent(e.EventType.change,{active:a}))},setSize:function(a){var b=this.tabSize!==a;this.tabSize=a,b&&this.refresh()},_destroy:function(){var a=this.options;this._removeIndicator(),this.element.classList.remove(a.wrapperClass)}}),b.widget.wearable.TabIndicator=e,c.defineWidget("TabIndicator",".ui-tab",["setActive","setSize"],e)}(a.document,d),function(b,d){function e(){this.options={}}function f(a,b,d){var e,f=d!==c?d:b.length,g=0;for(e=0;f>e;e++)g+=a===h.Orientation.HORIZONTAL?b[e].offsetWidth:b[e].offsetHeight;return g}function g(a,b,c){var d=f(a,b,c+1);return d-=a===h.Orientation.HORIZONTAL?b[c].offsetWidth/2:b[c].offsetHeight/2}var h=d.widget.wearable.scroller.Scroller,i=d.event.gesture,j=d.engine,k=d.util.object,l=d.event,m={CHANGE:"sectionchange"};k.inherit(e,h,{_build:function(a){return this.tabIndicatorElement=null,this.tabIndicator=null,this.sections=null,this.sectionPositions=[],this.activeIndex=0,this.beforeIndex=0,this._super(a),a},_configure:function(){this._super(),this.options=k.merge(this.options,{items:"section",activeClass:"ui-section-active",circular:!1,animate:!0,animateDuration:100,orientation:"horizontal",changeThreshold:-1,useTab:!1,fillContent:!0})},_init:function(a){var b,c,d,e=this.options,f=this.scroller;if(f.style.position="absolute",this._sectionChangerWidth=a.offsetWidth,this._sectionChangerHeight=a.offsetHeight,this._sectionChangerHalfWidth=this._sectionChangerWidth/2,this._sectionChangerHalfHeight=this._sectionChangerHeight/2,this.orientation="horizontal"===e.orientation?h.Orientation.HORIZONTAL:h.Orientation.VERTICAL,"tab"===e.scrollbar&&(e.scrollbar=!1,e.useTab=!0),this.sections="string"==typeof e.items?f.querySelectorAll(e.items):e.items,b=this.sections.length,e.circular&&3>b)throw"if you use circular option, you must have at least three sections.";for(this.activeIndex>=b&&(this.activeIndex=b-1),c=0;b>c;c++)d=this.sections[c].className,d&&d.indexOf(e.activeClass)>-1&&(this.activeIndex=c),this.sectionPositions[c]=c;return this._prepareLayout(),this._initLayout(),this._super(),this._repositionSections(!0),this.setActiveSection(this.activeIndex),e.animate||(e.animateDuration=0),e.changeThreshold<0&&(e.changeThreshold=this._sectionChangerHalfWidth),this.enabled&&b>1?this.enable():this.disable(),a},_prepareLayout:function(){var a,b=this.options,c=this.sections.length,d=this._sectionChangerWidth,e=this._sectionChangerHeight,g=this.orientation,i=this.scroller.style;b.useTab&&(this._initTabIndicator(),a=this.tabIndicatorElement.offsetHeight,e-=a,this._sectionChangerHalfHeight=e/2,this.element.style.height=e+"px",this._sectionChangerHeight=e),g===h.Orientation.HORIZONTAL?(i.width=(b.fillContent?d*c:f(g,this.sections))+"px",i.height=e+"px"):(i.width=d+"px",i.height=(b.fillContent?e*c:f(g,this.sections))+"px")},_initLayout:function(){var a,b,c=this.sections.style,d=0,e=0;for(a=0,b=this.sections.length;b>a;a++)c=this.sections[a].style,c.position="absolute",this.options.fillContent&&(c.width=this._sectionChangerWidth+"px",c.height=this._sectionChangerHeight+"px"),this.orientation===h.Orientation.HORIZONTAL?(e=0,d=f(this.orientation,this.sections,a)):(e=f(this.orientation,this.sections,a),d=0),c.top=e+"px",c.left=d+"px"},_initBouncingEffect:function(){var a=this.options;a.circular||this._super()},_translateScrollbar:function(a,b,c,d){var e;this.scrollbar&&(e=this.orientation===h.Orientation.HORIZONTAL?-a+this.minScrollX:-b+this.minScrollY,this.scrollbar.translate(e,c,d))
},_translateScrollbarWithPageIndex:function(a,b){var c;this.scrollbar&&(c=f(this.orientation,this.sections,this.activeIndex),this.scrollbar.translate(c,b))},_initTabIndicator:function(){var a=this.tabIndicatorElement=b.createElement("div");this.element.parentNode.insertBefore(a,this.element),this.tabIndicator=new j.instanceWidget(a,"TabIndicator"),this.tabIndicator.setSize(this.sections.length),this.tabIndicator.setActive(this.activeIndex),this.tabIndicatorHandler=function(a){this.tabIndicator.setActive(a.detail.active)}.bind(this),this.element.addEventListener(m.CHANGE,this.tabIndicatorHandler,!1)},_clearTabIndicator:function(){this.tabIndicator&&(this.element.parentNode.removeChild(this.tabIndicatorElement),this.element.removeEventListener(m.CHANGE,this.tabIndicatorHandler,!1),this.tabIndicator.destroy(),this.tabIndicator=null,this.tabIndicatorElement=null,this.tabIndicatorHandler=null)},_resetLayout:function(){var a,b,c=this.sections.style;for(a=0,b=this.sections.length;b>a;a++)c=this.sections[a].style,c.position="",c.width="",c.height="",c.top="",c.left="";this._super()},_bindEvents:function(){this._super(),d.event.enableGesture(this.scroller,new d.event.gesture.Swipe({orientation:this.orientation===h.Orientation.HORIZONTAL?i.Orientation.HORIZONTAL:i.Orientation.VERTICAL})),l.on(this.scroller,"swipe webkitTransitionEnd",this)},_unbindEvents:function(){this._super(),this.scroller&&(d.event.disableGesture(this.scroller),l.off(this.scroller,"swipe webkitTransitionEnd",this))},handleEvent:function(a){switch(this._super(a),a.type){case"swipe":this._swipe(a);break;case"webkitTransitionEnd":this._endScroll()}},_notifyChanagedSection:function(a){var b,c=this.options.activeClass,d=this.sections.length,e=0;for(e=0;d>e;e++)b=this.sections[e],b.classList.remove(c),e===this.activeIndex&&b.classList.add(c);this._fireEvent(m.CHANGE,{active:a})},setActiveSection:function(a,b){var c=this.sectionPositions[a],d=b,e=this.activeIndex,f=0,i=0,j=0,k=0;this.orientation===h.Orientation.HORIZONTAL?f=-g(this.orientation,this.sections,c):i=-g(this.orientation,this.sections,c),(this.beforeIndex-a>1||this.beforeIndex-a<-1)&&(d=0),this.activeIndex=a,this.beforeIndex=this.activeIndex,f!==this.scrollerOffsetX||i!==this.scrollerOffsetY?(this.orientation===h.Orientation.HORIZONTAL?j=this._sectionChangerHalfWidth+f:k=this._sectionChangerHalfHeight+i,this._translate(j,k,b),this._translateScrollbarWithPageIndex(a,d)):this._endScroll(),this.activeIndex!==e&&this._notifyChanagedSection(this.activeIndex)},getActiveSectionIndex:function(){return this.activeIndex},_start:function(a){this._super(a),this.beforeIndex=this.activeIndex},_move:function(a){var b=this.options.changeThreshold,c=this.orientation===h.Orientation.HORIZONTAL?a.detail.deltaX:a.detail.deltaY,d=this.activeIndex;this._super(a),this.scrolled&&(this.activeIndex=c>b?this._calculateIndex(this.beforeIndex-1):-b>c?this._calculateIndex(this.beforeIndex+1):this.beforeIndex,this.activeIndex!==d&&this._notifyChanagedSection(this.activeIndex))},_end:function(){this.scrollbar&&this.scrollbar.end(),this.enabled&&!this.scrollCanceled&&this.dragging&&(this.bouncingEffect&&this.bouncingEffect.dragEnd(),this.setActiveSection(this.activeIndex,this.options.animateDuration),this.dragging=!1)},_swipe:function(a){var b=a.detail.direction===i.Direction.UP||a.detail.direction===i.Direction.LEFT?1:-1,c=this._calculateIndex(this.beforeIndex+b);this.enabled&&!this.scrollCanceled&&this.dragging&&(this.bouncingEffect&&this.bouncingEffect.dragEnd(),this.activeIndex!==c&&(this.activeIndex=c,this._notifyChanagedSection(c)),this.setActiveSection(c,this.options.animateDuration),this.dragging=!1)},_endScroll:function(){this.enabled&&this.scrolled&&!this.scrollCanceled&&(this._repositionSections(),this._super())},_repositionSections:function(b){var c,d,e,i,j,k,l,m=this.sections.length,n=this.sectionPositions[this.activeIndex],o=a.parseInt(m/2,10),p=this.options.circular,q=0,r=0;if(this.orientation===h.Orientation.HORIZONTAL?(k=-g(this.orientation,this.sections,p?o:this.activeIndex),l=0):(k=0,l=-g(this.orientation,this.sections,p?o:this.activeIndex)),this._translateScrollbarWithPageIndex(this.activeIndex),(b||0===n||n===m-1)&&(this.orientation===h.Orientation.HORIZONTAL?q=this._sectionChangerHalfWidth+k:r=this._sectionChangerHalfHeight+l,this._translate(q,r),p))for(c=0;m>c;c++)e=(m+this.activeIndex-o+c)%m,d=this.sections[e].style,this.sectionPositions[e]=c,this.orientation===h.Orientation.HORIZONTAL?(i=0,j=f(this.orientation,this.sections,c)):(i=f(this.orientation,this.sections,c),j=0),d.top=i+"px",d.left=j+"px"},_calculateIndex:function(a){var b=this.sections.length;return a=this.options.circular?(b+a)%b:0>a?0:a>b-1?b-1:a},_clear:function(){this._clearTabIndicator(),this._super(),this.sectionPositions.length=0}}),d.widget.wearable.SectionChanger=e,j.defineWidget("SectionChanger",".scroller",["getActiveSectionIndex","setActiveSection"],e)}(a.document,d),function(a,b,c){var d=c.widget.wearable.VirtualListview,e=c.engine,f=c.util.DOM,g="x",h="y",i=function(){return this.options={bufferSize:100,dataLength:0,orientation:h,listItemUpdater:function(){return null}},this},j=new d,k=d.prototype,l=k.draw,m=k._refreshScrollbar;j.draw=function(){var a=this,c=a.element,d=a.ui,e=null,f=null;a.options.orientation===g&&(e=b.createElement("div"),f=e.style,c.parentNode.appendChild(e),e.appendChild(c),e.appendChild(d.spacer),f.width="10000px",f.height="100%",d.container=e),a._initListItem(),l.call(a)},j._refreshScrollbar=function(){var a=0,b=this.ui;m.call(this),b.container&&(a=this.element.clientWidth+b.spacer.clientWidth,b.container.style.width=a+"px")},j._initListItem=function(){var a=this,c=a.element,d=b.createElement("div"),e=b.createElement("div"),g=d.style,i=a.options.orientation,j=c.style,k=e.style;g.overflow="hidden",e.style.overflow="hidden",c.appendChild(e),e.appendChild(d),a.options.listItemUpdater(d,0),i===h?(j.overflowY="auto",j.overflowX="hidden",k.overflow="hidden",d.style.float="left",a._cellSize=f.getElementWidth(d),a._columnsCount=Math.floor(f.getElementWidth(c)/a._cellSize)):(j.overflowX="auto",j.overflowY="hidden",k.overflow="hidden",k.float="left",j.height="100%",k.height="100%",a._cellSize=f.getElementHeight(d),a._columnsCount=Math.floor(f.getElementHeight(c)/a._cellSize)),c.removeChild(e),a.options.originalDataLength=a.options.dataLength,a.options.dataLength/=a._columnsCount},j._updateListItem=function(a,c){var d,e,f,i,j,k=a.style,l=this.options;for(a.innerHTML="",k.overflow="hidden",k.position="relative",l.orientation===g&&(k.height="100%"),f=this._columnsCount,j=100/f,e=0;f>e;e++)d=b.createElement("div"),i=d.style,i.overflow="hidden",l.orientation===h?(d.style.float="left",d.style.width=j+"%"):d.style.height=j+"%",f*c+e<l.originalDataLength&&this.options.listItemUpdater(d,f*c+e),a.appendChild(d)},i.prototype=j,c.widget.wearable.VirtualGrid=i,e.defineWidget("VirtualGrid",".ui-virtualgrid",[],i)}(a,a.document,d),function(b,c){function d(a){var b=a._selectedIndex;null!==b&&a._ui.childItems[b].classList.remove(t.SNAP_LISTVIEW_SELECTED)}function e(a){var b,c,d=a._ui,e=d.childItems,f=d.scrollableParent,g=f.scrollTop,h=f.offsetHeight,i=g+h/2,j=e.length;for(a._isScrollStarted=!1,l.trigger(a._ui.scrollableParent,o.SCROLL_END),b=0;j>b;b++)if(c=e[b],c.itemTop<i&&c.itemBottom>=i){a._selectedIndex=b,c.classList.add(t.SNAP_LISTVIEW_SELECTED),l.trigger(c,o.SELECTED);break}}function f(b){var c=e.bind(null,b);b._isScrollStarted||(b._isScrollStarted=!0,l.trigger(b._ui.scrollableParent,o.SCROLL_START)),b._callbacks.scrollEnd=c,a.clearTimeout(b._timer),d(b),b._timer=a.setTimeout(c,u)}function g(a,b){var c,d=a._ui.scrollableParent,e=a._ui.childItems,f=a._selectedIndex,g=b.detail.direction;d&&e&&f>=0&&(c=e[f].itemHeight,g===r.CW&&f+1<e.length?d.scrollTop+=c:g===r.CCW&&f>0&&(d.scrollTop-=c))}function h(a){for(var c;a!=b.body;){if(c=m.getCSSProperty(a,"overflow-y"),"scroll"===c||"auto"===c&&a.scrollHeight>a.clientHeight)return a;a=a.parentNode}return null}function i(a){var b,c,d=a.children,e=d.length;for(b=0;e>b;b++)c=d[b],c.itemTop=c.offsetTop,c.itemHeight=c.offsetHeight,c.itemBottom=c.itemTop+c.itemHeight,c.classList.add("ui-snap-listview-item")}var j=c.widget.BaseWidget,k=c.engine,l=c.event,m=c.util.DOM,n=c.util.selectors,o={SCROLL_START:"scrollstart",SCROLL_END:"scrollend",SELECTED:"selected"},p=function(){var a=this;a._ui={page:null,scrollableParent:null,childItems:{}},a.options={},a._callbacks={},a._timer=null,a._isScrollStarted=!1,a._selectedIndex=null},q=new j,r={CW:"CW",CCW:"CCW"},s="ui-snap-listview",t={SNAP_LISTVIEW:s,SNAP_LISTVIEW_SELECTED:s+"-selected"},u=300;p.classes=t,q._build=function(a){return a.classList.contains(t.SNAP_LISTVIEW)||a.classList.add(t.SNAP_LISTVIEW),a},q._init=function(b){var c=this,d=c._ui,j=b,k=f.bind(null,c),m=g.bind(null,c);return c._callbacks.scrollStart=k,c._callbacks.rotaryDetent=m,d.page=n.getClosestByClass(j,"ui-page")||a,d.childItems=j.children,d.scrollableParent=h(j)||d.page,d.childItems&&d.childItems.length>0&&i(j),l.on(d.scrollableParent,"scroll",k),l.on(a,"rotarydetent",m),e(c),b},q._refresh=function(){var a=this,b=a.element,c=a._ui;return c.scrollableParent=h(b)||c.page,i(b),e(this),null},q._unbindEvents=function(){this._ui.scrollableParent.removeEventListener("scroll",this._callbacks.scrollStart,!1),a.removeEventListener("rotarydetent",this._callbacks.rotaryDetent,!1)},q._destroy=function(){var b=this;return b._unbindEvents(),b._ui=null,b._callbacks=null,b._isScrollStarted=null,b._timer&&a.clearTimeout(b._timer),b._timer=null,b._selectedIndex=null,null},p.prototype=q,c.widget.wearable.SnapListview=p,k.defineWidget("SnapListview",".ui-snap-listview",[],p,"wearable")}(a.document,d),function(b,d){var e=d.event.gesture,f=d.event,g=d.engine,h=d.util.DOM,i=d.util.selectors,j={LEFT:"swipelist.left",RIGHT:"swipelist.right"},k=function(){this.container=null,this.swipeElement=null,this.swipeLeftElement=null,this.swipeRightElement=null,this.swipeElementStyle=null,this.swipeLeftElementStyle=null,this.swipeRightElementStyle=null,this.activeElement=null,this.activeTarget=null,this.resetLayoutCallback=null,this.options={},this._interval=0,this._cancelled=!1,this._dragging=!1,this._animating=!1},l=new d.widget.BaseWidget,m=function(a){a.preventDefault()};l._configure=function(){this.options={threshold:10,animationThreshold:150,animationDuration:200,animationInterval:8,container:null,swipeTarget:"li",swipeElement:".ui-swipelist",swipeLeftElement:".ui-swipelist-left",swipeRightElement:".ui-swipelist-right",ltrStartColor:"",ltrEndColor:"",rtlStartColor:"",rtlEndColor:""}},l._init=function(a){var b,e,f=i.getClosestBySelector(a,"."+d.widget.wearable.Page.classes.uiPage),g=this.options,j=/rgb\(([0-9]+), ([0-9]+), ([0-9]+)\)/g;this.container=g.container?f.querySelector(g.container):this._findScrollableElement(this.element),this.container.style.position="relative",this.swipeElement=f.querySelector(g.swipeElement),this.swipeLeftElement=g.swipeLeftElement?f.querySelector(g.swipeLeftElement):c,this.swipeRightElement=g.swipeRightElement?f.querySelector(g.swipeRightElement):c,this.swipeElement&&(this.swipeElementStyle=this.swipeElement.style,this.swipeElementStyle.display="none",this.swipeElementStyle.background="transparent",this.swipeElementStyle.width=this.container.offsetWidth+"px",this.swipeElementStyle.height=this.container.offsetHeight+"px"),this.swipeLeftElement&&(this.swipeLeftElementStyle=this.swipeLeftElement.style,this.swipeLeftElementStyle.display="none",b=this.swipeLeftElement?h.getCSSProperty(this.swipeLeftElement,"background-image").match(j):c),this.swipeRightElement&&(this.swipeRightElementStyle=this.swipeRightElement.style,this.swipeRightElementStyle.display="none",e=this.swipeRightElement?h.getCSSProperty(this.swipeRightElement,"background-image").match(j):c),g.ltrStartColor=g.ltrStartColor||b[0],g.ltrEndColor=g.ltrEndColor||b[1],g.rtlStartColor=g.rtlStartColor||e[0],g.rtlEndColor=g.rtlEndColor||e[1],this.resetLayoutCallback=null,this.swipeElement.parentNode!==this.container&&(this.resetLayoutCallback=function(a,b,c){return function(){try{b?a.insertBefore(c,b):a.appendChild(c)}catch(d){c.parentNode.removeChild(c)}}}(this.swipeElement.parentNode,this.swipeElement.nextElementSibling,this.swipeElement),this.container.appendChild(this.swipeElement))},l._reset=function(){this.container.style.position="",this.swipeElementStyle.display="",this.swipeElementStyle.background="",this.swipeElementStyle.width="",this.swipeElementStyle.height="",this.swipeLeftElementStyle.display="",this.swipeLeftElementStyle.background="",this.swipeRightElementStyle.display="",this.swipeRightElementStyle.background="",this.resetLayoutCallback&&this.resetLayoutCallback(),this._unbindEvents()},l._bindEvents=function(){d.event.enableGesture(this.element,new e.Drag({threshold:this.options.threshold,blockVertical:!0}),new e.Swipe({orientation:e.Orientation.HORIZONTAL})),f.on(this.element,"drag dragstart dragend dragcancel swipe",this),f.on(b,"scroll touchcancel",this),f.on(this.swipeElement,"touchstart touchmove touchend",m,!1)},l._unbindEvents=function(){d.event.disableGesture(this.element),f.off(this.element,"drag dragstart dragend dragcancel swipe",this),f.off(b,"scroll touchcancel",this),f.off(this.swipeElement,"touchstart touchmove touchend",m,!1)},l.handleEvent=function(a){switch(a.type){case"dragstart":this._start(a);break;case"drag":this._move(a);break;case"dragend":this._end(a);break;case"swipe":this._swipe(a);break;case"dragcancel":case"scroll":this._cancel()}},l._translate=function(b,c,d){var e,f,g,h=c/a.innerWidth*100,i=this;this.swipeLeftElement&&c>=0?(e=i.options.ltrStartColor,f=i.options.ltrEndColor,g="left"):this.swipeRightElement&&0>c&&(e=i.options.rtlStartColor,f=i.options.rtlEndColor,g="right",h=Math.abs(h)),function j(){b.background="-webkit-linear-gradient("+g+", "+e+" 0%, "+f+" "+h+"%)",d&&h<i.options.animationDuration?(i._animating=!0,h+=i.options.animationInterval,a.webkitRequestAnimationFrame(j)):d&&h>=i.options.animationDuration&&(i._animating=!1,i._transitionEnd())}()},l._findScrollableElement=function(a){for(;a.scrollHeight<=a.offsetHeight&&a.scrollWidth<=a.offsetWidth;)a=a.parentNode;return a},l._findSwipeTarget=function(a){for(var b=this.options.swipeTarget;a&&a.webkitMatchesSelector&&!a.webkitMatchesSelector(b);)a=a.parentNode;return a},l._fireEvent=function(a,b){var c=this.activeTarget||this.listElement;f.trigger(c,a,b)},l._start=function(a){var b,c,d,e,f=a.detail;this._dragging=!1,this._cancelled=!1,this.activeTarget=this._findSwipeTarget(f.srcEvent.target),this.activeTarget&&(c=this.activeTarget.offsetWidth,d=this.activeTarget.offsetHeight,b=this.container.scrollTop,e=this.activeTarget.offsetTop-b,this.swipeElementStyle.top=b+"px",this.swipeLeftElementStyle&&(this.swipeLeftElementStyle.width=c+"px",this.swipeLeftElementStyle.height=d+"px",this.swipeLeftElementStyle.top=e+"px"),this.swipeRightElementStyle&&(this.swipeRightElementStyle.width=c+"px",this.swipeRightElementStyle.height=d+"px",this.swipeRightElementStyle.top=e+"px"),this._dragging=!0)},l._move=function(a){var b,c=a.detail,d=c.estimatedDeltaX;this._dragging&&!this._cancelled&&(this.swipeLeftElement&&c.direction===e.Direction.RIGHT&&d>=0?(this.swipeRightElementStyle&&(this.swipeRightElementStyle.display="none"),this.activeElement=this.swipeLeftElement,b=this.swipeLeftElementStyle):this.swipeRightElement&&c.direction===e.Direction.LEFT&&0>d&&(this.swipeLeftElementStyle&&(this.swipeLeftElementStyle.display="none"),this.activeElement=this.swipeRightElement,b=this.swipeRightElementStyle),b&&(b.display="block",this.swipeElementStyle.display="block",this._translate(b,d,!1)))},l._end=function(a){var b=a.detail;this._dragging&&!this._cancelled&&(this.swipeLeftElement&&b.estimatedDeltaX>this.options.animationThreshold?this._fire(j.LEFT,a):this.swipeRightElement&&b.estimatedDeltaX<-this.options.animationThreshold?this._fire(j.RIGHT,a):this._hide(),this._dragging=!1)},l._swipe=function(a){var b=a.detail;this._dragging&&!this._cancelled&&(this.swipeLeftElement&&b.direction===e.Direction.RIGHT?this._fire(j.LEFT,a):this.swipeRightElement&&b.direction===e.Direction.LEFT?this._fire(j.RIGHT,a):this._hide(),this._dragging=!1)},l._fire=function(a,b){var c=b.detail;a===j.LEFT?this._translate(this.swipeLeftElementStyle,c.estimatedDeltaX,!0):a===j.RIGHT&&this._translate(this.swipeRightElementStyle,c.estimatedDeltaX,!0)},l._transitionEnd=function(){this._hide(),this.activeElement===this.swipeLeftElement?this._fireEvent(j.LEFT):this.activeElement===this.swipeRightElement&&this._fireEvent(j.RIGHT)},l._cancel=function(){this._dragging=!1,this._cancelled=!0,this._hide()},l._hide=function(){this.swipeElementStyle&&(this.swipeElementStyle.display="none"),this.activeElement&&(this.activeElement.style.display="none")},l._destroy=function(){this._reset(),this.element=null,this.container=null,this.swipeElement=null,this.swipeLeftElement=null,this.swipeRightElement=null,this.swipeElementStyle=null,this.swipeLeftElementStyle=null,this.swipeRightElementStyle=null,this.activeElement=null,this.activeTarget=null,this.startX=null,this.options=null,this.gesture=null,this._cancelled=null,this._dragging=null,this._animating=null},k.prototype=l,d.widget.wearable.SwipeList=k,g.defineWidget("SwipeList",".ui-swipe",[],k)}(a.document,d),function(a,b){b.widget.wearable.scroller.scrollbar=b.widget.wearable.scroller.scrollbar||{}}(a,d),function(a,b){b.widget.wearable.scroller.scrollbar.type=b.widget.wearable.scroller.scrollbar.type||{}}(a,d),function(a,b){b.widget.wearable.scroller.scrollbar.type.interface={setScrollbarLayout:function(){},remove:function(){},start:function(){},end:function(){},offset:function(){}}}(a.document,d),function(a,b){var c=b.util.object,d=b.widget.wearable.scroller.scrollbar.type,e=d.interface,f=b.widget.wearable.scroller.Scroller;d.bar=c.merge({},e,{options:{animationDuration:500},setScrollbar:function(a,b,c){this._viewLayout=a,this._clipLayout=c,this._firstChildLayout=b,this._ratio=c/b},getScrollbarSize:function(){return this._firstChildLayout/this._viewLayout*this._firstChildLayout*this._ratio},offset:function(a,b){var c,d;return b=b*this._clipLayout/this._viewLayout,a===f.Orientation.VERTICAL?(c=0,d=b):(c=b,d=0),{x:c,y:d}},start:function(a){var b=a.style,c=this.options.animationDuration;b["-webkit-transition"]="opacity "+c/1e3+"s ease",b.opacity=1},end:function(a){var b=a.style,c=this.options.animationDuration;b["-webkit-transition"]="opacity "+c/1e3+"s ease",b.opacity=0}})}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=c.engine,f=new d,g=c.util.object,h=c.util.selectors,i=(c.widget.wearable.scroller.scrollbar.type,{wrapperClass:"ui-scrollbar-bar-type",barClass:"ui-scrollbar-indicator",orientationClass:"ui-scrollbar-"}),j=c.widget.wearable.scroller.Scroller,k=function(){this.wrapper=null,this.barElement=null,this.container=null,this.view=null,this.options={},this.type=null,this.maxScroll=null,this.started=!1,this.displayDelayTimeoutId=null,this.lastScrollPosition=0};f._build=function(a){return this.clip=a,this.view=a.children[0],this.firstChild=this.view.children[0],a},f._configure=function(){this.options=g.merge({},this.options,{type:!1,displayDelay:700,orientation:j.Orientation.VERTICAL})},f._init=function(){this.type=this.options.type,this.type&&this._createScrollbar()},f._bindEvents=function(){b.addEventListener("visibilitychange",this)},f._createScrollbar=function(){var a=this.options.orientation,c=b.createElement("DIV"),d=b.createElement("span"),e=this.view,f=this.clip,g=this.firstChild,h=this.type;f.appendChild(c),c.appendChild(d),c.classList.add(i.wrapperClass),d.className=i.barClass,a===j.Orientation.HORIZONTAL?(h.setScrollbar(e.offsetWidth,g.offsetWidth,f.offsetWidth),d.style.width=h.getScrollbarSize()+"px",c.classList.add(i.orientationClass+"horizontal")):(h.setScrollbar(e.offsetHeight,g.offsetHeight,f.offsetHeight),d.style.height=h.getScrollbarSize()+"px",c.classList.add(i.orientationClass+"vertical")),this.wrapper=c,this.barElement=d},f._removeScrollbar=function(){this.clip.removeChild(this.wrapper),this.wrapper=null,this.barElement=null},f._refresh=function(){var a=this;a._clear(),a._init(),a.translate(a.lastScrollPosition)},f.translate=function(b,c,d){var e,f,g,h,i=this.options.orientation;this.wrapper&&this.type&&this.lastScrollPosition!==b&&(d=d!==!1,this.lastScrollPosition=b,b=this.type.offset(i,b),g=this.barElement.style,f=c?"-webkit-transform "+c/1e3+"s ease-out":"none",e="translate3d("+b.x+"px,"+b.y+"px, 0)",g["-webkit-transform"]=e,g["-webkit-transition"]=f,this.started||this._start(),null!==this.displayDelayTimeoutId&&(a.clearTimeout(this.displayDelayTimeoutId),this.displayDelayTimeoutId=null),d&&(h=(c||0)+this.options.displayDelay,this.displayDelayTimeoutId=a.setTimeout(this._end.bind(this),h)))},f.end=function(){this.displayDelayTimeoutId||(this.displayDelayTimeoutId=a.setTimeout(this._end.bind(this),this.options.displayDelay))},f._start=function(){this.type.start(this.wrapper,this.barElement),this.started=!0},f._end=function(){this.started=!1,this.displayDelayTimeoutId=null,this.type&&this.type.end(this.wrapper,this.barElement)},f.handleEvent=function(a){var d;switch(a.type){case"visibilitychange":d=h.getClosestBySelector(this.clip,"."+c.widget.wearable.Page.classes.uiPage),"visible"===b.visibilityState&&d===c.activePage&&this.refresh()}},f._clear=function(){this._removeScrollbar(),this.started=!1,this.type=null,this.barElement=null,this.displayDelayTimeoutId=null},f._destroy=function(){this._clear(),b.removeEventListener("visibilitychange",this),this.options=null,this.clip=null,this.view=null},k.prototype=f,c.widget.wearable.scroller.scrollbar.ScrollBar=k,e.defineWidget("ScrollBar","",["translate"],k)}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=c.engine,f=function(){var a=this;a._activeIndex=null,a.options={}},g={indicator:"ui-page-indicator",indicatorActive:"ui-page-indicator-active",indicatorItem:"ui-page-indicator-item"},h=new d;f.classes=g,h._configure=function(){this.options={maxPage:5,numberOfPages:null}},h._build=function(a){return this._createIndicator(a),a},h._createIndicator=function(a){var d,e,f,h=this,i=h.options;if(null===i.numberOfPages)return c.error("build error: numberOfPages is null"),void 0;for(e=i.numberOfPages<i.maxPage?i.numberOfPages:i.maxPage,d=0;e>d;d++)f=b.createElement("span"),f.classList.add(g.indicatorItem),d===h._activeIndex&&f.classList.add(g.indicatorActive),a.appendChild(f)},h._removeIndicator=function(a){a.textContent=""},h.setActive=function(b){var d,e,f=this,h=b,i=f.element.children,j=f.options.maxPage,k=f.options.numberOfPages,l=a.parseInt(j/2,10),m=0,n=g.indicatorActive;if(f._activeIndex=b,k>j)e=j,m=k-j;else{if(null===k)return c.error("setActive error: numberOfPages is null"),void 0;if(0===k)return;e=k}for(d=0;e>d;d++)i[d].classList.remove(n);b>l&&l+m>=b?h=l:b>l+m&&(h=b-m),i[h].classList.add(n)},h._refresh=function(){var a=this;a._removeIndicator(a.element),a._createIndicator(a.element)},h._destroy=function(){this._removeIndicator(this.element)},f.prototype=h,c.widget.wearable.PageIndicator=f,e.defineWidget("PageIndicator",".ui-page-indicator",["setActive"],f,"wearable")}(a.document,d),function(a){a.helper=a.helper||{}}(d),function(a,b,c){function d(a){a._selectedMarqueeWidget&&(a._selectedMarqueeWidget.destroy(),a._selectedMarqueeWidget=null)}function e(){d(this)}function f(a){var b=this,c=a.target.querySelector(".ui-marquee");d(b),c&&(b._selectedMarqueeWidget=g.instanceWidget(c,"Marquee",{delay:b.options.marqueeDelay,autoRun:!1}),b._selectedMarqueeWidget.start())}var g=c.engine,h=c.util.object,i={marqueeDelay:0},j=function(a,b){var c=this;c.options=h.merge({},i),c._snapListviewWidget=null,c._selectedMarqueeWidget=null,c._callbacks={},c.init(a,b)},k=j.prototype;k.init=function(a,b){var c=this;h.fastMerge(c.options,b),c._snapListviewWidget=g.instanceWidget(a,"SnapListview"),c.bindEvents()},k.bindEvents=function(){var b,c,d=this;b=e.bind(d),c=f.bind(d),d._callbacks.touchStart=b,d._callbacks.selected=c,a.addEventListener("touchstart",b),a.addEventListener("selected",c)},k.unbindEvents=function(){var b=this;a.removeEventListener("touchstart",b._callbacks.touchStart),a.removeEventListener("selected",b._callbacks.selected),b._callbacks.touchStart=null,b._callbacks.selected=null},k.destroy=function(){var a=this;a.unbindEvents(),d(a),a._snapListviewWidget.destroy(),a.options=null,a._snapListviewWidget=null,a._selectedMarqueeWidget=null,a._callbacks=null},j.create=function(a,b){return new j(a,b)},c.helper.SnapListMarqueeStyle=j}(b,a,d),function(a,b,c){function d(a){h.on(a,k.COLLAPSE+" "+k.COMPLETE,this,!1)}function e(a){h.off(a,k.COLLAPSE+" "+k.COMPLETE,this,!1)}var f=c.engine,g=c.util.object,h=c.event,i=(c.widget.core.Marquee,c.widget.wearable.ExpandableHeader),j={delay:0,marqueeStyle:"scroll",ellipsisEffect:"none",speed:100,interation:"infinite",autoRun:!1},k=i.events,l={TITLE:"ui-title",MARQUEE:"ui-marquee"},m=function(a,b){var c=this;c.options=g.merge({},j),c._expandableHeader=null,c._marqueeWidget=null,c.init(a,b)},n=m.prototype;n.handleEvent=function(a){var b=this;switch(a.type){case k.COMPLETE:b._onComplete(a);break;case k.COLLAPSE:b._onCollapse(a)}},n._onComplete=function(){var a=this._marquee;a&&a.start()},n._onCollapse=function(){var a=this._marquee;a&&a.reset()},n.init=function(a,b){var c,d=this;c=b.textElement?"string"==typeof b.textElement?a.querySelector(b.textElement):b.textElement:a.querySelector("."+l.TITLE),g.fastMerge(d.options,b),d._element=a,d._expandableHeader=f.instanceWidget(a,"ExpandableHeader",{scrollElement:b.scrollElement}),c&&(c.classList.add(l.MARQUEE),d._marquee=f.instanceWidget(c,"Marquee",d.options)),d._bindEvents()},n._bindEvents=function(){var a=this;d.call(a,a._element)},n._unbindEvents=function(){var a=this;e.call(a,a._element)},n.destroy=function(){var a=this;a._unbindEvents(),a._element=null,a._expandableHeader=null,a._marquee=null,a._options=null},m.create=function(a,b){return new m(a,b)},c.helper.ExpandableHeaderMarqueeStyle=m}(b,a,d),function(a,b,c){function d(a){h.on(a,"touchstart touchend mousedown mouseup",this,!1)}function e(a){h.off(a,"touchstart touchend mousedown mouseup",this,!1)}var f=c.engine,g=c.util.object,h=c.event,i=c.util.selectors,j=(c.widget.wearable.Drawer,c.widget.wearable.SectionChanger,{more:".ui-more",sectionChanger:".ui-section-changer"}),k={page:"ui-page"},l=function(a,b){var c=this;c.options=g.merge({},j),c._drawerWidget=null,c._handlerElement=null,c._sectionChangerWidget=null,c.init(a,b)},m=l.prototype;m.handleEvent=function(a){var b=this;switch(a.type){case"touchstart":case"mousedown":b._onTouchStart(a);break;case"touchend":case"mouseup":b._onTouchEnd(a)}},m._onTouchStart=function(a){this._drawerWidget.transition(60),a.preventDefault(),a.stopPropagation()},m._onTouchEnd=function(){this._drawerWidget.close()},m.init=function(a,b){var c,d,e=this,h=i.getClosestByClass(a,k.page);g.fastMerge(e.options,b),c=h.querySelector(e.options.handler),d=a.querySelector(e.options.sectionChanger),e._drawerWidget=f.instanceWidget(a,"Drawer"),c&&(e._drawerWidget.setDragHandler(c),e._handlerElement=c,e._bindEvents()),d&&(e._sectionChangerWidget=f.instanceWidget(d,"SectionChanger",e.options))},m._bindEvents=function(){var a=this;d.call(a,a._handlerElement)},m._unbindEvents=function(){var a=this;e.call(a,a._handlerElement)},m.destroy=function(){var a=this;a._handlerElement&&a._unbindEvents(),a._drawerWidget=null,a._handlerElement=null,a._sectionChangerWidget=null},l.create=function(a,b){return new l(a,b)},c.helper.DrawerMoreStyle=l}(b,a,d),function(a){a.router.route=a.router.route||{}}(d),function(a,b,d){var e,f=d.engine,g=d.util.object,h=d.util.selectors,i=d.util.DOM,j={},k={uiStateKey:"&ui-state",urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(b){var c=this.parseUrl(b||a.location.href),d=c.hash;return d="#"===d?"":d,j=c,c.protocol+"//"+c.host+c.pathname+c.search+d},getDocumentUrl:function(a){return a?g.copy(k.documentUrl):k.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(a){var b;return"object"==typeof a?a:(b=k.urlParseRE.exec(a||"")||[],{href:b[0]||"",hrefNoHash:b[1]||"",hrefNoSearch:b[2]||"",domain:b[3]||"",protocol:b[4]||"",doubleSlash:b[5]||"",authority:b[6]||"",username:b[8]||"",password:b[9]||"",host:b[10]||"",hostname:b[11]||"",port:b[12]||"",pathname:b[13]||"",directory:b[14]||"",filename:b[15]||"",search:b[16]||"",hash:b[17]||""})},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",c=b?b.split("/"):[],d=a.split("/"),f=0;f<d.length;f++)switch(e=d[f]){case".":break;case"..":c.length&&c.pop();break;default:c.push(e)}return"/"+c.join("/")},isSameDomain:function(a,b){return k.parseUrl(a).domain===k.parseUrl(b).domain},isRelativeUrl:function(a){return""===k.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==k.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!k.isRelativeUrl(a))return a;var c=k.parseUrl(a),d=k.parseUrl(b),e=c.protocol||d.protocol,f=c.protocol?c.doubleSlash:c.doubleSlash||d.doubleSlash,g=c.authority||d.authority,h=""!==c.pathname,i=k.makePathAbsolute(c.pathname||d.filename,d.pathname),j=c.search||!h&&d.search||"",l=c.hash;return e+f+g+i+j+l},addSearchParams:function(a,b){var c=k.parseUrl(a),d="object"==typeof b?this.getAsURIParameters(b):b,e=c.search||"?";return c.hrefNoSearch+e+("?"===e.charAt(e.length-1)?"":"&")+d+(c.hash||"")},addHashSearchParams:function(a,b){var c=k.parseUrl(a),d="object"==typeof b?k.getAsURIParameters(b):b,e=c.hash,f=e?e.indexOf("?")<0?e+"?":e+"&":"#?";return c.hrefNoHash+f+("?"===f.charAt(f.length-1)?"":"&")+d},convertUrlToDataUrl:function(b,c,d){var e=k.parseUrl(b);return k.isEmbeddedPage(e,c)?e.hash.replace(/^#|\?.*$/g,""):(d=d||k.documentBase,k.isSameDomain(e,d)?e.hrefNoHash.replace(d.domain,""):a.decodeURIComponent(b))},get:function(a){return a===c&&(a=this.parseLocation().hash),this.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},isPath:function(a){return/\//.test(a)},clean:function(a,b){return a.replace(b.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a,b){var c=k.parseUrl(a);return c.protocol&&c.domain!==b.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbedded:function(a){var b=k.parseUrl(a);return""!==b.protocol?!k.isPath(b.hash)&&!!b.hash&&b.hrefNoHash===k.parseLocation().hrefNoHash:/^#/.test(b.href)},squash:function(a,b){var c,d,e,f,g=this.isPath(a),h=this.parseUrl(a),i=h.hash,j="";return b=b||(k.isPath(a)?k.getLocation():k.getDocumentUrl()),d=g?k.stripHash(a):a,d=k.isPath(h.hash)?k.stripHash(h.hash):d,f=d.indexOf(this.uiStateKey),f>-1&&(j=d.slice(f),d=d.slice(0,f)),c=k.makeUrlAbsolute(d,b),e=this.parseUrl(c).search,g?((k.isPath(i)||0===i.replace("#","").indexOf(this.uiStateKey))&&(i=""),j&&-1===i.indexOf(this.uiStateKey)&&(i+=j),-1===i.indexOf("#")&&""!==i&&(i="#"+i),c=k.parseUrl(c),c=c.protocol+"//"+c.host+c.pathname+e+i):c+=c.indexOf("#")>-1?j:"#"+j,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var b="#"===a.substring(0,1);return b&&(a=a.substring(1)),(b?"#":"")+a.replace(new RegExp("([!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~])","g"),"\\$1")},isFirstPageUrl:function(a,b,d,e){var g,h,i,j,l;return b=b===c?k.documentBase:b,d=d===c?k.documentBaseDiffers:d,e=e===c?k.documentUrl:e,g=k.parseUrl(k.makeUrlAbsolute(a,b)),h=g.hrefNoHash===e.hrefNoHash||d&&g.hrefNoHash===b.hrefNoHash,i=f.getRouter().firstPage,j=i?i.id:c,l=g.hash,h&&(!l||"#"===l||j&&l.replace(/^#/,"")===j)},isPermittedCrossDomainRequest:function(a,b){return d.getConfig("allowCrossDomainPages",!1)&&"file:"===a.protocol&&-1!==b.search(/^https?:/)},getAsURIParameters:function(a){var b,c="";
for(b in a)a.hasOwnProperty(b)&&(c+=encodeURIComponent(b)+"="+encodeURIComponent(a[b])+"&");return c.substring(0,c.length-1)},documentUrl:null,documentBaseDiffers:!1,set:function(a){j.hash=a},getFilePath:function(a,b){var c="&"+d.getConfig("subPageUrlKey","");return a&&a.split(c)[0].split(b)[0]},cleanHash:function(a,b){return k.stripHash(a.replace(/\?.*$/,"").replace(b,""))},isEmbeddedPage:function(a,b){var c=k.parseUrl(a);return""!==c.protocol?c.hash&&(b?c.hrefNoHash===k.documentUrl.hrefNoHash:c.hrefNoHash===k.parseLocation().hrefNoHash):/^#/.test(c.href)}};k.documentUrl=k.parseLocation(),e=b.querySelector("base"),k.documentBase=e?k.parseUrl(k.makeUrlAbsolute(e.getAttribute("href"),k.documentUrl.href)):k.documentUrl,k.documentBaseDiffers=k.documentUrl.hrefNoHash!==k.documentBase.hrefNoHash,k.getDocumentBase=function(a){return a?g.copy(k.documentBase):k.documentBase.href},k.getClosestBaseUrl=function(a,b){var c=i.getNSData(h.getClosestBySelector(a,b),"url"),e=k.documentBase.hrefNoHash;return d.getConfig("dynamicBaseEnabled",!0)&&c&&k.isPath(c)||(c=e),k.makeUrlAbsolute(c,e)},d.util.path=k}(a,a.document,d),function(a,b,c){function d(a){for(;a&&(a.nodeType!==Node.ELEMENT_NODE||!a.nodeName||"A"!==a.nodeName);)a=a.parentNode;return a}function e(a,b){var c,e,f,g=d(b.target);g&&1===b.which&&(c=g.getAttribute("href"),e="external"===g.getAttribute("rel")||g.hasAttribute("target"),e||(f=i.getData(g),f.link=g.id,a.open(c,f,b),h.preventDefault(b)))}function f(a,b){var c,d,e,f,g,h,i=b.state,k=o.activeState,m=n.route,p=!0;if(s)return o.disableVolatileMode(),o.replace(k,k.stateTitle,k.stateUrl),void 0;if(i){e=i.url,g="back"===o.getDirection(i),h=g?k&&k.transition||"none":i.transition,d=l.merge({},i,{reverse:g,transition:h,fromHashChange:!0}),f=j.getLocation();for(c in m)m.hasOwnProperty(c)&&m[c].onHashChange(f,d,k.stateUrl)&&(p=!1);o.setActive(i),p&&a.open(e,d)}}var g=c.util,h=c.event,i=g.DOM,j=g.path,k=g.selectors,l=g.object,m=c.engine,n=c.router,o=n.history,p=n.route,q=b.body,r=[].slice,s=!1,t=c.widget.wearable.Page,u=function(){var a=this;a.firstPage=null,a.container=null,a.settings={}};u.prototype.defaults={fromHashChange:!1,reverse:!1,showLoadMsg:!0,loadMsgDelay:0,volatileRecord:!1},u.prototype.open=function(a,b,c){var d,e=b&&b.rel||"page",f=p[e],g={},i=this;if(!s){if("back"===e)return o.back(),void 0;if(!f)throw new Error("Not defined router rule ["+e+"]");b=l.merge({rel:e},this.defaults,f.option(),b),d=f.filter,g.resolve=function(a,b){f.open(b,a,c)},g.reject=function(a){h.trigger(i.container.element,"changefailed",a)},"string"==typeof a?a.replace(/[#|\s]/g,"")&&this._loadUrl(a,b,f,g):a&&k.matchesSelector(a,d)?g.resolve(b,a):g.reject(b)}},u.prototype.init=function(d){var e,f,g,h,j,l,n=a.location,o=t.classes,p=o.uiPage,s=o.uiPageActive,u=c.engine.getWidgetDefinition("Page")||c.engine.getWidgetDefinition("page"),v=this;if(q=b.body,f=c.getConfig("pageContainer")||q,j=r.call(f.querySelectorAll(u.selector)),v.justBuild=d,c.getConfig("autoInitializePage",!0)){if(h=f.querySelector("."+s),h||(h=j[0]),h&&(l=f.querySelectorAll("."+s),r.call(l).forEach(function(a){a.classList.remove("."+s)}),f=h.parentNode),d)return g=m.instanceWidget(f,"pagecontainer"),h&&v.register(g,h),void 0;n.hash&&(e=b.getElementById(n.hash.replace("#","")),e&&k.matchesSelector(e,"."+p)&&(h=e))}j.forEach(function(a){i.getNSData(a,"url")||i.setNSData(a,"url",a.id||n.pathname+n.search)}),g=m.instanceWidget(f,"pagecontainer"),v.register(g,h)},u.prototype.destroy=function(){var b=this;a.removeEventListener("popstate",b.popStateHandler,!1),q&&(q.removeEventListener("pagebeforechange",this.pagebeforechangeHandler,!1),q.removeEventListener("vclick",b.linkClickHandler,!1))},u.prototype.setContainer=function(a){this.container=a},u.prototype.getContainer=function(){return this.container},u.prototype.getFirstPage=function(){return this.firstPage},u.prototype.register=function(c,d){var g=this;g.container=c,g.firstPage=d,g.linkClickHandler=e.bind(null,g),g.popStateHandler=f.bind(null,g),b.addEventListener("vclick",g.linkClickHandler,!1),a.addEventListener("popstate",g.popStateHandler,!1),o.enableVolatileRecord(),d&&g.open(d,{transition:"none"})},u.prototype.openPopup=function(a,b){this.open(a,l.fastMerge({rel:"popup"},b))},u.prototype.closePopup=function(a){var b=this.getRoute("popup");b&&b.close(null,a)},u.prototype.lock=function(){s=!0},u.prototype.unlock=function(){s=!1},u.prototype._loadUrl=function(a,b,c,d){var e,f,g=j.makeUrlAbsolute(a,j.getLocation()),h={},i=this;return e=c.find(g),!e&&j.isEmbedded(g)?(d.reject(h),void 0):e?(h=l.fastMerge({absUrl:g},b),d.resolve(h,e),void 0):(b.showLoadMsg&&i._showLoading(b.loadMsgDelay),f=new XMLHttpRequest,f.responseType="document",f.overrideMimeType("text/html"),f.open("GET",g),f.addEventListener("error",i._loadError.bind(i,g,b,d)),f.addEventListener("load",function(a){var e=a.target;4===e.readyState&&(200===e.status||0===e.status&&e.responseXML?i._loadSuccess(g,b,c,d,e.responseXML):i._loadError(g,b,d))}),f.send(),void 0)},u.prototype._loadError=function(a,b,c){var d=l.fastMerge({url:a},b),e=this;b.showLoadMsg&&e._showError(a),h.trigger(e.container.element,"loadfailed",d),c.reject(d)},u.prototype._loadSuccess=function(a,b,c,d,e){var f=l.fastMerge({url:a},b),g=c.parse(e,a);b.showLoadMsg&&this._hideLoading(),g?d.resolve(f,g):d.reject(f)},u.prototype._getInitialContent=function(){return this.firstPage},u.prototype._showLoading=function(a){this.container.showLoading(a)},u.prototype._showError=function(a){c.error("load error, file: ",a)},u.prototype._hideLoading=function(){this.container.hideLoading()},u.prototype.hasActivePopup=function(){var a=this.getRoute("popup");return a&&a.hasActive()},u.prototype.getRoute=function(a){return p[a]},n.Router=u,m.initRouter(u)}(a,a.document,d),function(a,b){function c(b,c){var d=a.getElementById(b);return d&&j.matchesSelector(d,c)?h.setNSData(d,"url",b):d=null,d}var d,e,f=b.util,g=f.path,h=f.DOM,i=f.object,j=f.selectors,k=b.router.history,l=b.engine,m=b.widget.wearable.Page,n=([].slice,{});n.defaults={transition:"none"},n.filter="."+m.classes.uiPage,n.option=function(){var a=i.merge({},n.defaults);return a.transition=b.getConfig("pageTransition",a.transition),a},n.open=function(b,c){var d,e=a.title,f={},m=l.getRouter();d=b!==m.firstPage||c.dataUrl?h.getNSData(b,"url"):g.documentUrl.hrefNoHash,e=h.getNSData(b,"title")||j.getChildrenBySelector(b,".ui-header > .ui-title").textContent||e,h.getNSData(b,"title")||h.setNSData(b,"title",e),d&&!c.fromHashChange&&(!g.isPath(d)&&d.indexOf("#")<0&&(d=g.makeUrlAbsolute("#"+d,g.documentUrl.hrefNoHash)),f=i.merge({},c,{url:d}),k.replace(f,e,d)),this._setBase(d),a.title=e,m.container.change(b,c)},n.find=function(a){var b,d=this,e=l.getRouter(),f=d._createDataUrl(a),h=e.getFirstPage(),i=e.getContainer(),j="[data-url='"+f+"']",k=/,/gm;return/#/.test(a)&&g.isPath(f)?null:(j+=d.filter.replace(k,",[data-url='"+f+"']"),b=i.element.querySelector(j),b||!f||g.isPath(f)||(b=c(f,d.filter)),!b&&g.isFirstPageUrl(f)&&h&&h.parentNode&&(b=h),b)},n.parse=function(a,b){var c,d=this,e=d._createDataUrl(b);return d._setBase(b),c=a.querySelector(d.filter),c&&(h.setNSData(c,"url",e),h.setNSData(c,"external",!0)),c},n.onHashChange=function(){return null},n._createDataUrl=function(a){return g.convertUrlToDataUrl(a,!0)},n.onOpenFailed=function(){this._setBase(g.parseLocation().hrefNoSearch)},n._getBaseElement=function(){return e||(e=a.querySelector("head")),d||(d=a.querySelector("base"),d||(d=a.createElement("base"),d.href=g.documentBase.hrefNoHash,e.appendChild(d))),d},n._setBase=function(a){var b=this._getBaseElement(),c=b.href;g.isPath(a)&&(a=g.makeUrlAbsolute(a,g.documentBase),g.parseUrl(c).hrefNoSearch!==g.parseUrl(a).hrefNoSearch&&(b.href=a,g.documentBase=g.parseUrl(g.makeUrlAbsolute(a,g.documentUrl.href))))},b.router.route.page=n}(a.document,d),function(a,b,c){function d(a,c){var d=b.getElementById(h.hashToSelector(a));return d&&i.matchesSelector(d,c)?k.setNSData(d,"url",a):d=null,d}var e=c.widget.core.Popup,f={defaults:{transition:"none",container:null,volatileRecord:!0},filter:"."+e.classes.popup,activePopup:null,events:{POPUP_HIDE:"popuphide"}},g=c.engine,h=c.util.path,i=c.util.selectors,j=c.router.history,k=c.util.DOM,l=([].slice,c.util.object),m="popup=true",n=/([&|\?]popup=true)/;f.option=function(){var a=l.merge({},f.defaults);return a.transition=c.getConfig("popupTransition",a.transition),a},f.setActive=function(a,b){var c,d=h.getLocation(),e=d.replace(n,"");this.activePopup=a,a?b&&!b.fromHashChange&&b.history&&(c=h.addHashSearchParams(e,m),j.replace(b,"",c)):d!==e&&j.back()},f.open=function(a,c,d){var e,h,i=g.getRouter(),j=f.events,l=function(){b.removeEventListener(j.POPUP_HIDE,l,!1),a.parentNode.removeChild(a),f.activePopup=null},m=function(){var h=c["position-to"];h&&(c.positionTo=h),d&&d.touches?(c.x=d.touches[0].clientX,c.y=d.touches[0].clientY):d&&(c.x=d.clientX,c.y=d.clientY),b.removeEventListener(j.POPUP_HIDE,m,!1),e=g.instanceWidget(a,"Popup",c),e.open(c),f.activePopup=e},n=i.container.getActivePage();k.getNSData(a,"external")===!0&&(h=c.container?n.element.querySelector(c.container):n.element,h.appendChild(a),b.addEventListener(f.events.POPUP_HIDE,l,!1)),f.hasActive()?(b.addEventListener(f.events.POPUP_HIDE,m,!1),f.close()):m()},f.close=function(a,b){a=a||this.activePopup,a&&a.close(b||{})},f.onHashChange=function(a,b){var c=this.activePopup;return c?(f.close(c,b),!0):!1},f.onOpenFailed=function(){return null},f.find=function(a){var b,c=this,e=c._createDataUrl(a),f=g.getRouter().getContainer().getActivePage();return b=f.element.querySelector("[data-url='"+e+"']"+c.filter),b||!e||h.isPath(e)||(b=d(e,c.filter)),b},f.parse=function(a,b){var c,d=this,e=d._createDataUrl(b);return c=a.querySelector(d.filter),c&&(k.setNSData(c,"url",e),k.setNSData(c,"external",!0)),c},f._createDataUrl=function(a){return h.convertUrlToDataUrl(a)},f.hasActive=function(){return!!this.activePopup},f.getActive=function(){return this.activePopup},c.router.route.popup=f}(a,a.document,d),function(a,b){var c=b.widget.wearable.Drawer,d=(c.prototype,b.util),e=d.path,f=(d.DOM,d.object,d.selectors,b.router.history),g=b.engine,h=([].slice,{}),i="drawer=true",j=/([&|\?]drawer=true)/;h.defaults={transition:"none"},h.filter="."+c.classes.drawer,h.option=function(){return null},h.open=function(a){var b=g.instanceWidget(a,"Drawer");b.open()},h.find=function(a){var b,c=e.convertUrlToDataUrl(a),d=g.getRouter().getContainer().getActivePage();return b=d.element.querySelector("#"+c)},h.parse=function(){return null},h.setActive=function(a){var b,c=e.getLocation(),d=c.replace(j,"");this._activeDrawer=a,a?(b=e.addHashSearchParams(d,i),f.replace({},"",b)):c!==d&&f.back()},h.onHashChange=function(a,b,c){var d=this,e=d._activeDrawer;return e&&c.search(i)>0&&a.search(i)<0&&e.close(b),null},b.router.route.drawer=h}(a.document,d),function(a,b){var c=b.widget.wearable.CircularIndexScrollbar,d=(c.prototype,b.util),e=d.path,f=(d.DOM,d.object,d.selectors,b.router.history),g=b.engine,h=([].slice,{}),i="circularindexscrollbar=true",j=/([&|\?]circularindexscrollbar=true)/,k=".ui-circularindexscrollbar";h.filter=k,h.option=function(){return null},h.open=function(){return null},h.find=function(a){var b,c=e.convertUrlToDataUrl(a),d=g.getRouter().getContainer().getActivePage();return b=d.element.querySelector("#"+c)},h.parse=function(){return null},h.setActive=function(a){var b,c=e.getLocation(),d=c.replace(j,"");this._activeWidget=a,a?(b=e.addHashSearchParams(d,i),f.replace({},"",b)):c!==d&&f.back()},h.onHashChange=function(a,b,c){var d=this,e=d._activeWidget;return e&&c.search(i)>0&&a.search(i)<0&&e.hide(b),null},b.router.route.circularindexscrollbar=h}(a.document,d),function(a,b){a.addEventListener("beforerouterinit",function(){b.setConfig("autoInitializePage",b.autoInitializePage)},!1),a.addEventListener("routerinit",function(d){var e=d.detail,f=b.router.history,g=f.back.bind(e),h=(b.router.route,b.widget.wearable.Page.classes),i=h.uiPageActive;b.changePage=e.open.bind(e),a.addEventListener("pageshow",function(){b.activePage=a.querySelector("."+i)}),b.firstPage=e.getFirstPage(),b.back=g,b.initializePage=e.init.bind(e),b.pageContainer=e.container,b.openPopup=function(a,b){var d;d=a&&a.length!==c&&"object"==typeof a?a[0]:a,e.openPopup(d,b)},b.closePopup=e.closePopup.bind(e)},!1)}(a.document,d),function(a){var b=a.engine;a.IndexScrollbar=function(c,d){return a.warn("tau.IndexScrollbar is deprecated. you have to use tau.widget.IndexScrollbar."),b.instanceWidget(c,"IndexScrollbar",d)},a.SectionChanger=function(c,d){return a.warn("tau.SectionChanger is deprecated. you have to use tau.widget.SectionChanger."),b.instanceWidget(c,"SectionChanger",d)},a.SwipeList=function(c,d){return a.warn("tau.SwipeList is deprecated. you have to use tau.widget.SwipeList."),b.instanceWidget(c,"SwipeList",d)},a.VirtualListview=function(c,d){return a.warn("tau.VirtualListview is deprecated. you have to use tau.widget.VirtualListview."),b.instanceWidget(c,"VirtualListview",d)}}(d),function(a){a.getConfig("autorun",!0)===!0&&a.engine.run()}(d)}(window,window.document);